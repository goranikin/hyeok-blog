[
  {
    "title": "Next.js ì•± ë°°í¬í•˜ê¸°",
    "description": "Next.jsì™€ Bunìœ¼ë¡œ ë§Œë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•©ë‹ˆë‹¤. Vercelì´ ì•„ë‹Œ AWSì˜ EC2ë¥¼ ì´ìš©í•˜ê³ , nginxì™€ pm2ë¥¼ í†µí•´ ì„œë²„ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.",
    "slug": "deploy-nextjs-app-with-bun-ec2-nginx-pm2",
    "publishDate": "2025-03-02",
    "thumbnailUrl": "/study/development/deployment-of-nextjs-with-bun-using-ec2-nginx-pm2/1.png",
    "content": "const{Fragment:n,jsx:e,jsxs:l}=arguments[0];function _createMdxContent(c){const r={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",hr:\"hr\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",...c.components};return l(n,{children:[e(r.p,{children:\"ë“œë””ì–´ ìë™ ë°°í¬ê¹Œì§€ êµ¬ì¶•í–ˆë‹¤! ğŸ‰\"}),\"\\n\",e(r.p,{children:\"ê°œì¸ì ì¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•œë‹¤ê³  í† ì´í”„ë¡œì íŠ¸ì—ì„œ êµµì§êµµì§í•œ ê°œë°œ ìš”ì†Œë¥¼ ê±´ë“œë¦¬ì§€ ëª»í–ˆëŠ”ë°(ì´ ìë¦¬ë¥¼ ë¹Œì–´ ì¸í”„ë¼ë¥¼ ì „ë¶€ ì±…ì„ì ¸ì¤€ ì—°ìš°ì—ê²Œ ê°ì‚¬ë¥¼), ë“œë””ì–´ ë­ê°€ ë­”ì§€ ì–¼ì¶” ì•Œ ê²ƒ ê°™ë‹¤. ìš°ì„  ì ì–´ë„ Dockerê¹Œì§€ëŠ” ë‹¤ë¤„ë³¸ ë’¤ ë‹¤ì‹œ í”„ë¡ íŠ¸ ê³µë¶€ë¥¼ í•  ê³„íš.\"}),\"\\n\",e(r.p,{children:\"ê°œë°œìë¡œ ì»¤ë¦¬ì–´ë¥¼ ì‹œì‘í•˜ê² ë‹¤ëŠ” ë‹¤ì§ì„ í•˜ê³  ë‚˜ë‹ˆ í•œ ê²° ë§ˆìŒì´ ê°€ë²¼ì›Œì¡Œë‹¤. ê·¸ë¦¬ê³  ê°œë°œì´ ì¬ë¯¸ìˆì–´ì§€ê¸°ë„ í–ˆê³ . ë” ë°°ì›Œì•¼ê² ë‹¤ëŠ” ë§ˆìŒì„ ë¨¹ìœ¼ë‹ˆ ì™„ì „íˆ ë˜ ë‹¤ë¥¸ ì„¸ê³„ë‹¤. ì—´ì‹¬íˆ ë°°ì›Œë´ì•¼ì§€.\"}),\"\\n\",e(r.p,{children:\"ë¨¹ê³  ì‚°ë‹¤ëŠ” ê²ƒì— ëŒ€í•œ ì§€ë‚œ ë‚ ì˜ ê³ ë¯¼ë“¤ì€ í•™ê¸° ì¤‘ì— ê¸€ë¡œ ë‚¨ê¸¸ ê³„íš!\"}),\"\\n\",e(r.hr,{}),\"\\n\",e(r.p,{children:\"Next.jsë¡œ ì‘ì„±í•œ ì•±ì„ AWS EC2ë¡œ ë°°í¬í•˜ëŠ” ë°©ë²•ì€ ì‰½ê²Œ ì°¾ì•„ë³¼ ìˆ˜ ìˆë‹¤.\\në¬¸ì œëŠ” ëŒ€ë¶€ë¶„ì´ ë‚˜ì²˜ëŸ¼ ê³µë¶€í•˜ë©° ì •ë¦¬í•œ ê¸€ì´ë‹¤ë³´ë‹ˆ ì˜¨ì „íˆ ì‹ ë¢°í•˜ê¸° ì–´ë µë‹¤ëŠ” ì .\\nIAM ì—­í• ì— ì •ì±…ì„ ì§€ì •í•  ë•Œ í•„ìš” ì—†ëŠ” ì •ì±…ì´ ë¼ì–´ìˆë‹¤ë“ ê°€, í˜¹ì€ yml íŒŒì¼ì´ë‚˜ nginx config íŒŒì¼ì˜ ì„¤ì •ì´ ì™„ì „íˆ ì˜ëª» ë˜ìˆë‹¤ë˜ê°€ ë“±ë“±...\\nê·¸ë˜ì„œ ë¨¸ë¦¬ ê¹¨ì ¸ê°€ë©° ë°°ìš´ ë‚´ìš©ì„ ì •ë¦¬í•˜ë©° ìµœëŒ€í•œ ê·¸ ì´ìœ ë“¤ì„ ì‘ì„±í•´ë³´ê² ë‹¤.\"}),\"\\n\",e(r.h2,{children:\"1. EC2 ì¸ìŠ¤í„´ìŠ¤\"}),\"\\n\",e(r.p,{children:\"Reactë¥¼ ë°°í¬í•  ë• S3ì™€ ê°™ì€ ì •ì  íŒŒì¼ í˜¸ìŠ¤íŒ… ì„œë¹„ìŠ¤ë§Œ ìˆì–´ë„ ì¶©ë¶„í•˜ë‹¤.\\në¹Œë“œë¥¼ í†µí•´ ë§Œë“¤ì–´ì§„ ì •ì  HTMLê³¼ Javascript íŒŒì¼ì„ í´ë¼ì´ì–¸íŠ¸ì¸¡ì— ê±´ë„¤ë©´, í´ë¼ì´ì–¸íŠ¸ ìª½ì—ì„œ ë°›ì€ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë Œë”ë§í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ë¥¼ Client Side Rendering(CSR)ì´ë¼ í•œë‹¤.\"}),\"\\n\",e(r.p,{children:\"Next.jsëŠ” CSR ë°©ì‹ì˜ í˜¸ìŠ¤íŒ…ë„ ì§€ì›í•˜ì§€ë§Œ Server Side Rendering(SSR)ë„ ì œê³µí•œë‹¤.\\nSSRì€ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì— ë”°ë¼ ì„œë²„ê°€ í•„ìš”í•œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë Œë”ë§í•œ ë’¤ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬í•œë‹¤.\\nì´ ì™¸ì—ë„ ë°±ì—”ë“œ API ë¼ìš°íŒ… ê¸°ëŠ¥ ë“± ì„œë²„ì¸¡ì—ì„œ ì²˜ë¦¬í•´ì•¼ í•  ê¸°ëŠ¥ë“¤ì„ ì œê³µí•˜ê¸° ìœ„í•´ ë°°í¬í•  ë•Œ Node.js ëŸ°íƒ€ì„ í™˜ê²½ì´ í•„ìš”í•˜ê³ ,\\nì´ë¥¼ ìœ„í•´ ì„œë²„ë¥¼ ëŒë ¤ì•¼ í•œë‹¤. (ë¬¼ë¡  Reactë„ ë°ì´í„° í˜ì¹­ì„ ìœ„í•œ ë°±ì—”ë“œ API ì„œë²„ëŠ” í•„ìš”ë¡œ í•œë‹¤.\\në¹Œë“œëœ íŒŒì¼ì„ ì–´ë–¤ ì‹ìœ¼ë¡œ í˜¸ìŠ¤íŒ…í•˜ëŠëƒì˜ ë¬¸ì œë§Œ ë³´ë©´ ReactëŠ” ì„œë²„ ì—†ì´ë„ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì´ì•¼ê¸°.)\"}),\"\\n\",e(r.p,{children:\"ì§‘ì— ìˆëŠ” ì»´í“¨í„°ë¥¼ 24ì‹œê°„ ëŒë¦¬ë©° ì„œë²„ ì»´í“¨í„°ë¡œ ë§Œë“¤ ê²Œ ì•„ë‹ˆë¼ë©´ ë³´í†µì€ ê°€ìƒ ë¨¸ì‹ ì„ ë¹Œë ¤ ì„œë²„ë¡œ ì´ìš©í•œë‹¤.\\nì´ëŸ¬í•œ ì„œë²„ë¥¼ ëŒ€ì—¬í•´ì£¼ëŠ” ì„œë¹„ìŠ¤ê°€ AWSì˜ EC2ì´ë‹¤. ê°€ìƒ ë¨¸ì‹  í•˜ë‚˜ë¥¼ ë¹Œë¦´ ë•Œ ê·¸ê±¸ ìš°ë¦¬ëŠ” 'ì¸ìŠ¤í„´ìŠ¤'ë¼ ë¶€ë¥¸ë‹¤.\"}),\"\\n\",e(r.p,{children:\"ê·¸ëŸ¬ë©´ ë°°í¬ë¥¼ ìœ„í•´ ìš°ë¦¬ì˜ ì„œë²„ë¥¼ ë§Œë“¤ì–´ë³´ì.\"}),\"\\n\",e(r.h3,{children:\"1-1) ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\"}),\"\\n\",e(r.p,{children:\"AWSì— ì ‘ì†í•´ EC2 ì„œë¹„ìŠ¤ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ëˆ„ë¥¸ë‹¤.\"}),\"\\n\",e(r.p,{children:e(r.img,{src:\"/study/development/deployment-of-nextjs-with-bun-using-ec2-nginx-pm2/1.png\",alt:\"\"})}),\"\\n\",e(r.p,{children:\"ìš°ë¦¬ê°€ ë¹Œë¦´ ê°€ìƒ ì„œë²„ì˜ ìš´ì˜ì²´ì œì™€ í•„ìš”í•œ ê°ì¢… ì†Œí”„íŠ¸ì›¨ì–´ì˜ ì„±ëŠ¥ì„ ê³¨ë¼ì•¼ í•œë‹¤.\\nQuick Startë¡œ ìš´ì˜ì²´ì œëŠ” Ubuntu, ê·¸ë¦¬ê³  ì´ë¯¸ì§€ëŠ” í”„ë¦¬í‹°ì–´ ì‚¬ìš©ì´ ê°€ëŠ¥í•œ ì•„ë¬´ê±°ë‚˜ ê³ ë¥´ì.\"}),\"\\n\",e(r.p,{children:\"UbuntuëŠ” ì„œë²„ í™˜ê²½ì—ì„œ ë§ì´ ì“°ì´ëŠ” Linux ë°°í¬íŒì´ë‹¤.\\nìš´ì˜ì²´ì œë¥¼ ë”¥í•˜ê²Œ íŒŒì§€ ì•ŠëŠ” ì´ìƒ Ubuntuë¥¼ ì“°ëŠ” ê²Œ ë¬´ë‚œí•˜ë‹¤. ì •ë³´ë„ ë§ê³  ë¼ì´ì„¼ìŠ¤ ë¹„ìš©ë„ ì—†ê³ .\"}),\"\\n\",l(r.p,{children:[e(r.img,{src:\"/study/development/deployment-of-nextjs-with-bun-using-ec2-nginx-pm2/2.png\",alt:\"\"}),\"\\n\",e(r.img,{src:\"/study/development/deployment-of-nextjs-with-bun-using-ec2-nginx-pm2/3.png\",alt:\"\"})]}),\"\\n\",e(r.p,{children:\"ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•˜ê¸° ìœ„í•œ í‚¤ í˜ì–´ë¥¼ ìƒì„±í•˜ì. ë‚˜ì¤‘ì— ìƒì„±ëœ í‚¤ íŒŒì¼ì„ ê°€ì§€ê³  ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•œë‹¤.\"}),\"\\n\",e(r.p,{children:e(r.img,{src:\"/study/development/deployment-of-nextjs-with-bun-using-ec2-nginx-pm2/4.png\",alt:\"\"})}),\"\\n\",e(r.p,{children:\"ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì€ SSH, HTTPS, HTTP íŠ¸ë˜í”½ ì „ë¶€ í—ˆìš©í•˜ì.\\nê¸°ë³¸ì ìœ¼ë¡œ ìš°ë¦¬ëŠ” SSH íŠ¸ë˜í”½ì„ í†µí•´ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•  ê±°ê³ , ë‚˜ì¤‘ì— ë¸Œë¼ìš°ì €ì—ì„œ HTTP í”„ë¡œí† ì½œì„ í†µí•´ ì¸ìŠ¤í„´ìŠ¤ë¡œ ìš”ì²­ì„ ë³´ë‚´ë©´ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤ì´ ì›¹ í˜ì´ì§€ë¥¼ ë¸Œë¼ìš°ì €ì—ê²Œ ì œê³µí•˜ê²Œ ëœë‹¤.\\nHTTPë‚˜ HTTPSì˜ ê²½ìš° ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆëŠ” IPë¥¼ ì œí•œí•  í•„ìš”ëŠ” ì—†ì§€ë§Œ, SSHì˜ ê²½ìš° ë³´ì•ˆì„ ìœ„í•´ íŠ¹ì • IP ì£¼ì†Œë§Œ í—ˆìš©í•˜ëŠ” ê²Œ ì¢‹ë‹¤. í•˜ì§€ë§Œ ë‚˜ëŠ” ê·€ì°®ìœ¼ë‹ˆ ê·¸ëƒ¥ ì—´ì–´ë†¨ë‹¤.\"}),\"\\n\",e(r.p,{children:\"ì´í›„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œ ë’¤ ìš°ë¦¬ì˜ ì„œë²„ë¥¼ ì„¸íŒ…í•´ë³´ì.\"}),\"\\n\",e(r.p,{children:e(r.img,{src:\"/study/development/deployment-of-nextjs-with-bun-using-ec2-nginx-pm2/5.png\",alt:\"\"})}),\"\\n\",e(r.p,{children:\"ì¸ìŠ¤í„´ìŠ¤ë¡œ ë“¤ì–´ê°€ ìœ„ìª½ì— 'ì—°ê²°' ë²„íŠ¼ì„ ëˆ„ë¥´ì.\"}),\"\\n\",e(r.p,{children:\"ì•„ë˜ì— ìˆëŠ” ì˜ˆ: ssh -i ... ëª…ë ¹ì–´ë¥¼ í†µí•´ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•  ìˆ˜ ìˆë‹¤.\\nì•„ê¹Œ ìƒì„±í•œ í‚¤ íŒŒì¼ì´ ìˆëŠ” ìœ„ì¹˜ë¡œ ì´ë™í•œ ë’¤ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì.\"}),\"\\n\",e(r.p,{children:e(r.img,{src:\"/study/development/deployment-of-nextjs-with-bun-using-ec2-nginx-pm2/6.png\",alt:\"\"})}),\"\\n\",e(r.p,{children:\"ì§ . ubuntuë¡œ ì ‘ì†í–ˆë‹¤.\"}),\"\\n\",e(r.hr,{}),\"\\n\",e(r.h3,{children:\"1-2) ì¸ìŠ¤í„´ìŠ¤ ì„¸íŒ…\"}),\"\\n\",e(r.p,{children:\"ì ‘ì†í•œ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë°°í¬ë¥¼ ìœ„í•œ ì„¸íŒ…ì„ í•œë‹¤. ìœ„ ubuntuì—ì„œ ì´ì–´ì„œ í•˜ë©´ ëœë‹¤.\"}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(r.code,{children:[l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),e(r.span,{style:{color:\"#032F62\"},children:\" apt\"}),e(r.span,{style:{color:\"#032F62\"},children:\" update\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),e(r.span,{style:{color:\"#032F62\"},children:\" apt\"}),e(r.span,{style:{color:\"#032F62\"},children:\" upgrade\"})]})]})})}),\"\\n\",e(r.p,{children:\"aptëŠ” íŒ¨í‚¤ì§€ ê´€ë¦¬ í”„ë¡œê·¸ë¨ì´ë‹¤. ê° ì†Œí”„íŠ¸ì›¨ì–´ë“¤ì˜ ìµœì‹  ë²„ì „ ì •ë³´ë¥¼ updateí•˜ê³ , ê·¸ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ upgradeí•œë‹¤.\"}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(r.code,{children:l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),e(r.span,{style:{color:\"#032F62\"},children:\" apt\"}),e(r.span,{style:{color:\"#032F62\"},children:\" install\"}),e(r.span,{style:{color:\"#032F62\"},children:\" nginx\"})]})})})}),\"\\n\",l(r.p,{children:[\"nginx ë¥¼ ì„¤ì¹˜í•œë‹¤.nginxëŠ” ì›¹ ì„œë²„ í”„ë¡œê·¸ë¨ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì— ë”°ë¼ ì •ì  íŒŒì¼ì„ ë³´ë‚´ì£¼ëŠ” í˜¸ìŠ¤íŒ… ì—­í• ì„ í•œë‹¤.\\nì´ ì™¸ì—ë„ ë‹¤ì–‘í•œ ê¸°ëŠ¥ê³¼ ì—­í• ì„ ìˆ˜í–‰í•˜ì§€ë§Œ ì—¬ê¸°ì„œëŠ” ìƒëµí•œë‹¤. ìì„¸í•œ ê¸°ëŠ¥ê³¼ ì—­ì‚¬ëŠ” \",e(r.a,{href:\"https://www.youtube.com/watch?v=6FAwAXXj5N0\",children:\"nginxì— ëŒ€í•œ ì˜ìƒ\"}),\"ì„ ì°¸ê³ í•˜ì!\"]}),\"\\n\",l(r.p,{children:[\"ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ê²½í—˜ì‚¼ì•„ Bunì„ ì‚¬ìš©í–ˆë‹¤. ëŒ€ë¶€ë¶„ npmì„ ì‚¬ìš©í•˜ì§€ë§Œ ì—¬ê¸°ì—ì„œëŠ” Bunì„ í†µí•´ ì„¸íŒ…í•˜ëŠ” ê³¼ì •ì„ ì†Œê°œí•œë‹¤.\\nnpmì— ëŒ€í•œ ì •ë³´ê°€ í•„ìš”í•˜ë‹¤ë©´ \",e(r.a,{href:\"https://sollogging.tistory.com/91\",children:\"ì´ ë¸”ë¡œê·¸\"}),\"ë¥¼ ì°¸ê³ í•˜ì!\"]}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(r.code,{children:[l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),e(r.span,{style:{color:\"#032F62\"},children:\" apt\"}),e(r.span,{style:{color:\"#032F62\"},children:\" install\"}),e(r.span,{style:{color:\"#032F62\"},children:\" unzip\"}),e(r.span,{style:{color:\"#6A737D\"},children:\" # unzip ì„¤ì¹˜\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"curl\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" -fsSL\"}),e(r.span,{style:{color:\"#032F62\"},children:\" https://bun.sh/install\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" |\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" bash\"}),e(r.span,{style:{color:\"#6A737D\"},children:\" # bun ì„¤ì¹˜\"})]})]})})}),\"\\n\",e(r.p,{children:\"Bun ì„¤ì¹˜ì— í•„ìš”í•œ unzipì„ ë¨¼ì € ì„¤ì¹˜í•˜ê³ , ê·¸ ë‹¤ìŒ Bunì„ ì„¤ì¹˜í•œë‹¤.\"}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(r.code,{children:[l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#005CC5\"},children:\"echo\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'export PATH=\\\"$HOME/.bun/bin:$PATH\\\"'\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" >>\"}),e(r.span,{style:{color:\"#032F62\"},children:\" ~/.bashrc\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#005CC5\"},children:\"source\"}),e(r.span,{style:{color:\"#032F62\"},children:\" ~/.bashrc\"})]})]})})}),\"\\n\",e(r.p,{children:\"ì„¤ì¹˜ê°€ ì™„ë£Œëœ ë’¤ Bunì˜ ì‹¤í–‰ íŒŒì¼ ê²½ë¡œë¥¼ í™˜ê²½ ë³€ìˆ˜ì— ì¶”ê°€í•´ì¤€ë‹¤(ëŒ€ë¶€ë¶„ ì•Œì•„ì„œ ì˜ ë˜ì§€ë§Œ í˜¹ì‹œ ëª¨ë¥´ë‹ˆ í•œ ë²ˆ ë” ìˆ˜ë™ìœ¼ë¡œ ì¶”ê°€).\\nê·¸ë¦¬ê³  bun -v ëª…ë ¹ì–´ë¡œ ì˜ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë³´ì.\"}),\"\\n\",e(r.p,{children:\"ì´í›„ GitHub ë ˆí¬ì§€í† ë¦¬ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ê°€ì ¸ì˜¨ ë’¤, í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•œë‹¤.\"}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(r.code,{children:[l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"bun\"}),e(r.span,{style:{color:\"#032F62\"},children:\" install\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"bun\"}),e(r.span,{style:{color:\"#032F62\"},children:\" run\"}),e(r.span,{style:{color:\"#032F62\"},children:\" build\"})]})]})})}),\"\\n\",e(r.p,{children:\"bunì„ ì´ìš©í•´ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•˜ê³  ë¹Œë“œê¹Œì§€ í•´ì¤€ë‹¤.\"}),\"\\n\",e(r.p,{children:e(r.img,{src:\"/study/development/deployment-of-nextjs-with-bun-using-ec2-nginx-pm2/7.png\",alt:\"\"})}),\"\\n\",e(r.hr,{}),\"\\n\",e(r.h3,{children:\"1-3) nginx ì„¸íŒ…\"}),\"\\n\",e(r.p,{children:\"í”„ë¡œì íŠ¸ê°€ ê¹”ë¦° ê²½ë¡œëŠ” /home/ubuntu/í”„ë¡œì íŠ¸ ì´ë¦„ ì¼ ê²ƒì´ë‹¤.\\nì—¬ê¸°ì„œ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ê¹Œì§€ ì´ë™í•œ ë‹¤ìŒ, ì„¤ì • íŒŒì¼ ê²½ë¡œë¡œ ì ‘ì†í•˜ì.\"}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(r.code,{children:l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#005CC5\"},children:\"cd\"}),e(r.span,{style:{color:\"#032F62\"},children:\" /etc/nginx/sites-available\"})]})})})}),\"\\n\",e(r.p,{children:\"ì´ ë””ë ‰í† ë¦¬ëŠ” nginxì—ì„œ ê° ì›¹ì‚¬ì´íŠ¸ì— ëŒ€í•œ ì„œë²„ ì„¤ì • íŒŒì¼ì„ ì €ì¥í•˜ëŠ” ê³³ì´ë‹¤.\\nì„œë²„ ì„¤ì •ì„ í•œ ë’¤, /etc/nginx/sites-enabled ë””ë ‰í† ë¦¬ì— ì‹¬ë³¼ë¦­ ë§í¬(ë°”ë¡œê°€ê¸°ì™€ ë¹„ìŠ·í•œ ê°œë…)ë¡œ ì—°ê²°í•˜ë©´ ëœë‹¤.\"}),\"\\n\",e(r.p,{children:\"ì´ë¯¸ ì¡´ì¬í•˜ëŠ” default ì„¤ì •ì€ ì§€ì •í•œ ì›¹ì‚¬ì´íŠ¸ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ”ë° ì“°ì¸ë‹¤.\\nì›¹ì‚¬ì´íŠ¸ë³„ë¡œ ì„¤ì •ì´ ë‹¤ë¥´ë¯€ë¡œ ë³´í†µì€ ë„ë©”ì¸ ì´ë¦„ìœ¼ë¡œ í•´ì£¼ë©´ ëœë‹¤.\\në‚˜ëŠ” ë„ë©”ì¸ ì—°ê²°ì„ ì•ˆ í•œ ìƒíƒœì´ë‹ˆ ë ˆí¬ì§€í† ë¦¬ ì´ë¦„ì¸ waffle_rookie_review.conf ë¡œ ìƒì„±í–ˆë‹¤.\"}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(r.code,{children:[l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),e(r.span,{style:{color:\"#032F62\"},children:\" touch\"}),e(r.span,{style:{color:\"#032F62\"},children:\" waffle_rookie_review.conf\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),e(r.span,{style:{color:\"#032F62\"},children:\" vim\"}),e(r.span,{style:{color:\"#032F62\"},children:\" waffle_rookie_review.conf\"})]})]})})}),\"\\n\",e(r.p,{children:\"waffle_rookie_review.conf\"}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(r.code,{children:[l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"server\"}),e(r.span,{style:{color:\"#032F62\"},children:\" {\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"    listen\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" 80\"}),e(r.span,{style:{color:\"#24292E\"},children:\";\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"    server_name\"}),e(r.span,{style:{color:\"#032F62\"},children:\" í¼ë¸”ë¦­\"}),e(r.span,{style:{color:\"#032F62\"},children:\" IPv4\"}),e(r.span,{style:{color:\"#032F62\"},children:\" ì£¼ì†Œ\"}),e(r.span,{style:{color:\"#24292E\"},children:\";\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"    location\"}),e(r.span,{style:{color:\"#032F62\"},children:\" /\"}),e(r.span,{style:{color:\"#032F62\"},children:\" {\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"        proxy_pass\"}),e(r.span,{style:{color:\"#032F62\"},children:\" http://localhost:3000\"}),e(r.span,{style:{color:\"#24292E\"},children:\";\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"        proxy_http_version\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" 1.1\"}),e(r.span,{style:{color:\"#24292E\"},children:\";\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"        proxy_set_header\"}),e(r.span,{style:{color:\"#032F62\"},children:\" Upgrade\"}),e(r.span,{style:{color:\"#24292E\"},children:\" $http_upgrade;\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"        proxy_set_header\"}),e(r.span,{style:{color:\"#032F62\"},children:\" Connection\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'upgrade'\"}),e(r.span,{style:{color:\"#24292E\"},children:\";\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"        proxy_set_header\"}),e(r.span,{style:{color:\"#032F62\"},children:\" Host\"}),e(r.span,{style:{color:\"#24292E\"},children:\" $host;\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"        proxy_cache_bypass\"}),e(r.span,{style:{color:\"#24292E\"},children:\" $http_upgrade;\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    }\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"}\"})})]})})}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(r.code,{children:l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),e(r.span,{style:{color:\"#032F62\"},children:\" ln\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" -s\"}),e(r.span,{style:{color:\"#032F62\"},children:\" /etc/nginx/sites-available/waffle_rookie_review.conf\"}),e(r.span,{style:{color:\"#032F62\"},children:\" /etc/nginx/sites-enabled/\"})]})})})}),\"\\n\",e(r.p,{children:\"ì„¤ì • í›„ ì‹¬ë³¼ë¦­ ë§í¬ê¹Œì§€ ìƒì„±í•´ì£¼ë©´ ë.\"}),\"\\n\",e(r.p,{children:\"ì„¤ì •ì˜ ì˜ë¯¸ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\"}),\"\\n\",l(r.p,{children:[e(r.code,{children:\"listen 80\"}),\" -> í¬íŠ¸ ë²ˆí˜¸ 80ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.\"]}),\"\\n\",l(r.p,{children:[e(r.code,{children:\"server_name\"}),\" -> ì„œë²„ì˜ IP ì£¼ì†Œ\"]}),\"\\n\",l(r.p,{children:[\"í¬íŠ¸ ë²ˆí˜¸ 80ì€ HTTPì˜ ê¸°ë³¸ í¬íŠ¸ë‹¤. ë”°ë¼ì„œ \",e(r.code,{children:\"http://<IPv4 ì£¼ì†Œ>\"}),\" ë¡œ ìš”ì²­ì„ ë³´ë‚´ë©´ ì´ ì„œë²„ ë¸”ë¡ì´ í™œì„±í™”ëœë‹¤.\"]}),\"\\n\",l(r.p,{children:[e(r.code,{children:\"location /\"}),\" -> '/' ê²½ë¡œ(ë£¨íŠ¸ ê²½ë¡œ)ì— ëŒ€í•œ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.\"]}),\"\\n\",l(r.p,{children:[e(r.code,{children:\"proxy_pass http://localhost:3000\"}),\" -> \",e(r.code,{children:\"http://<IPv4 ì£¼ì†Œ>/\"}),\" ìš”ì²­ì„ Next.js ì„œë²„ë¡œ ì „ë‹¬í•œë‹¤.\"]}),\"\\n\",e(r.p,{children:\"ì´ ì™¸ì—ëŠ” ì„œë²„ë‹¨ì—ì„œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ”ë° ì“°ì´ëŠ” ì„¸ë¶€ì ì¸ ì„¤ì •ë“¤ì´ë‹¤.\"}),\"\\n\",e(r.p,{children:\"ì„¤ì • íŒŒì¼ì˜ ë¬¸ë²•ì´ ì˜¬ë°”ë¥¸ì§€ í…ŒìŠ¤íŠ¸í•´ë³´ì.\"}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(r.code,{children:l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),e(r.span,{style:{color:\"#032F62\"},children:\" nginx\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" -t\"})]})})})}),\"\\n\",e(r.p,{children:\"ë‹¤ìŒê³¼ ê°™ì´ ëœ¨ë©´ ì„±ê³µì´ë‹¤.\"}),\"\\n\",e(r.p,{children:e(r.img,{src:\"/study/development/deployment-of-nextjs-with-bun-using-ec2-nginx-pm2/8.png\",alt:\"\"})}),\"\\n\",e(r.p,{children:\"ì„¤ì • íŒŒì¼ì´ ë°˜ì˜ë˜ë„ë¡ nginxë¥¼ ì¬ì‹œì‘í•˜ì.\"}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(r.code,{children:l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),e(r.span,{style:{color:\"#032F62\"},children:\" systemctl\"}),e(r.span,{style:{color:\"#032F62\"},children:\" restart\"}),e(r.span,{style:{color:\"#032F62\"},children:\" nginx\"})]})})})}),\"\\n\",e(r.hr,{}),\"\\n\",e(r.h3,{children:\"1-4) pm2 ì„¸íŒ…\"}),\"\\n\",e(r.p,{children:\"pm2(Process Manager 2)ëŠ” ìš°ë¦¬ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ê³  ê´€ë¦¬í•´ì¤„ í”„ë¡œê·¸ë¨ì´ë‹¤.\\nì•±ì´ ì¢…ë£Œë˜ê±°ë‚˜ ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ìë™ìœ¼ë¡œ ì¬ì‹œì‘í•´ì¤€ë‹¤.\"}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(r.code,{children:[l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"bun\"}),e(r.span,{style:{color:\"#032F62\"},children:\" install\"}),e(r.span,{style:{color:\"#032F62\"},children:\" pm2\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" -g\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"pm2\"}),e(r.span,{style:{color:\"#032F62\"},children:\" start\"}),e(r.span,{style:{color:\"#032F62\"},children:\" bun\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" --name\"}),e(r.span,{style:{color:\"#032F62\"},children:' \"waffle_rookie_review\"'}),e(r.span,{style:{color:\"#005CC5\"},children:\" --\"}),e(r.span,{style:{color:\"#032F62\"},children:\" start\"})]})]})})}),\"\\n\",e(r.p,{children:\"ë¼ê³  í•˜ë©´... node.jsë¥¼ ì°¾ì§€ ëª»í–ˆë‹¤ê³  ëœ¨ë©° ì‹¤í–‰ì´ ì•ˆ ëœë‹¤.\\nì‹¤í–‰ì€ bunìœ¼ë¡œ í•˜ì§€ë§Œ pm2ê°€ ê¸°ë³¸ì ìœ¼ë¡œ node.js í™˜ê²½ ìœ„ì—ì„œ ëŒì•„ê°€ë‚˜ë³´ë‹¤.\\nnode.jsë¥¼ ì„¤ì¹˜í•´ì£¼ì.\"}),\"\\n\",e(n,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(r.code,{children:[l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"curl\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" -o-\"}),e(r.span,{style:{color:\"#032F62\"},children:\" https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh\"}),e(r.span,{style:{color:\"#D73A49\"},children:\" |\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" bash\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#005CC5\"},children:\"source\"}),e(r.span,{style:{color:\"#032F62\"},children:\" ~/.bashrc\"})]}),\"\\n\",l(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#6F42C1\"},children:\"nvm\"}),e(r.span,{style:{color:\"#032F62\"},children:\" install\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" --lts\"})]})]})})}),\"\\n\",e(r.p,{children:\"ê·¸ë¦¬ê³  ë‹¤ì‹œ pm2 start bun ~~ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ì£¼ë©´...\"}),\"\\n\",e(r.p,{children:e(r.img,{src:\"/study/development/deployment-of-nextjs-with-bun-using-ec2-nginx-pm2/9.png\",alt:\"\"})}),\"\\n\",e(r.p,{children:\"ì„œë²„ê°€ ì‹¤í–‰ëë‹¤!\"}),\"\\n\",l(r.p,{children:[\"ê·¸ë¦¬ê³  \",e(r.code,{children:\"http://<Public IPv4 ì£¼ì†Œ>\"}),\" ë¡œ ì ‘ì†í•´ë³´ë©´...\"]}),\"\\n\",e(r.p,{children:e(r.img,{src:\"/study/development/deployment-of-nextjs-with-bun-using-ec2-nginx-pm2/10.png\",alt:\"\"})}),\"\\n\",e(r.p,{children:\"ì´ë ‡ê²Œ ë°°í¬ëŠ” ë!\"}),\"\\n\",e(r.hr,{}),\"\\n\",e(r.p,{children:\"ì´ëª¨ì €ëª¨\"}),\"\\n\",l(r.ol,{children:[\"\\n\",l(r.li,{children:[\"\\n\",e(r.p,{children:\"EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì§€ì •ëœ í¼ë¸”ë¦­ IPv4 ì£¼ì†ŒëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¬ë¶€íŒ…í•˜ë©´ ìƒˆë¡­ê²Œ í• ë‹¹ë°›ëŠ”ë‹¤.\\nê·¸ë˜ì„œ ê³ ì •ì ì¸ IPv4 ì£¼ì†Œë¥¼ ì–»ìœ¼ë ¤ë©´ Elastic IPë¥¼ í• ë‹¹ë°›ìœ¼ë©´ ëœë‹¤.\"}),\"\\n\"]}),\"\\n\",l(r.li,{children:[\"\\n\",l(r.p,{children:[\"Bun ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ì€ í–ˆì§€ë§Œ, ëŸ°íƒ€ì„ í™˜ê²½ì´ Bunì¸ ê±¸ ì¢€ ë” í™•ì‹¤í•˜ê²Œ í™•ì¸í•  ìˆ˜ ìˆì„ê¹Œ?\\nì¸ìŠ¤í„´ìŠ¤ì—ì„œ ëª…ë ¹ì–´ \",e(r.code,{children:\"pm2 describe <app-name>\"}),\"ì„ ì‹¤í–‰í•˜ë©´ \",e(r.code,{children:\"script path: /home/ubuntu/.bun/bin/bun\"}),\" ìœ¼ë¡œ ì§€ì •ëœ ê±¸ ë³¼ ìˆ˜ ìˆë‹¤.\\në” ë‚˜ì•„ê°€ node.js versionì´ N/Aë¡œ í˜„ì¬ ëŸ°íƒ€ì„ í™˜ê²½ì´ node.js ê°€ ì•„ë‹˜ì„ ì•Œ ìˆ˜ ìˆë‹¤!\"]}),\"\\n\"]}),\"\\n\",l(r.li,{children:[\"\\n\",e(r.p,{children:\"vim editorë¥¼ ì²˜ìŒ ë§Œë‚¬ì„ ë•Œ ë§¤ìš° ë‹¹í™©ìŠ¤ëŸ¬ì› ë‹¤.\\në‚˜ê°€ëŠ” ë²•ì„ ëª°ë¼ í„°ë¯¸ë„ì„ ê°•ì œ ì¢…ë£Œí–ˆë˜ ê³¼ê±°ì˜ ë‚˜... ì´ì œì•¼ CLI ê¸°ë°˜ìœ¼ë¡œ ì»´í“¨í„°ë¥¼ ë‹¤ë£¨ëŠ” ê²Œ ìµìˆ™í•´ì§„ ëŠë‚Œì´ë‹¤.\"}),\"\\n\"]}),\"\\n\"]}),\"\\n\",e(r.hr,{})]})}return{default:function(n={}){const{wrapper:l}=n.components||{};return l?e(l,{...n,children:e(_createMdxContent,{...n})}):_createMdxContent(n)}};",
    "permalink": "/study/development/deploy-nextjs-app-with-bun-ec2-nginx-pm2"
  },
  {
    "title": "ì‹¤ìˆ˜ë¡œ ì»¤ë°‹ëœ íŒŒì¼ ì‚­ì œí•˜ê¸° (feat. git-filter-repo)",
    "description": "êµ³ì´ resetí•˜ì§€ ë§ì~",
    "slug": "git-filter-repo",
    "publishDate": "2025-07-03",
    "content": "const{Fragment:e,jsx:n,jsxs:r}=arguments[0];function _createMdxContent(t){const c={code:\"code\",hr:\"hr\",p:\"p\",...t.components};return r(e,{children:[n(c.p,{children:\"ì´ë¯¸ ì»¤ë°‹ëœ íˆìŠ¤í† ë¦¬ë¥¼ ë˜ëŒë¦´ ê²ƒ ì—†ì´, ê·¸ëƒ¥ íŠ¹ì • íŒŒì¼ë§Œ ì™ ì—†ë˜ ê²ƒì²˜ëŸ¼ ë§Œë“¤ì–´ì£¼ëŠ” ë„êµ¬ê°€ ìˆë‹¤!\"}),\"\\n\",r(c.p,{children:[\"ë°”ë¡œ \",n(c.code,{children:\"git-filter-repo\"}),\".\"]}),\"\\n\",r(c.p,{children:[\"MacOS ì‚¬ìš©í•˜ì‹œëŠ” ë¶„ë“¤ì€ \",n(c.code,{children:\"brew install git-filter-repo\"}),\"ë¡œ ì„¤ì¹˜í•˜ë©´ ëœë‹¤. windowëŠ” pipì„ ì“°ë©´ ëœë‹¤ê³  í•¨.\"]}),\"\\n\",n(c.p,{children:\"ë‚˜ê°™ì€ ê²½ìš°ì—” êµ³ì´ githubì— ì•ˆ ì˜¬ë ¤ë„ ë˜ëŠ” ê³ ìš©ëŸ‰ íŒŒì¼ì„ ì‹¤ìˆ˜ë¡œ ì»¤ë°‹ê¹Œì§€ ê°€ì ¸ê°€ë²„ë ¸ë‹¤. ê·¸ë˜ì„œ git pushê°€ ê¸¸ì–´ì§€ë‹¤ ëª»í•´ ì¤‘ê°„ì— ëŠì–´ì¡Œê³ , êµ³ì´ ì˜¬ë¦´ í•„ìš”ë„ ì—†ì–´ì„œ... ì»¤ë°‹ ë‚´ì—­ì—ì„œ íŒŒì¼ë§Œ ì‚­ì œí•˜ë ¤ í–ˆë‹¤. ê·¸ëŸ°ë° êµ³ì´ resetí•˜ë©´ ë„ˆë¬´ ìŠ¬í”„ë‹ˆê¹Œ... ë” ë‚˜ì€ ë°©ë²•ì´ ìˆë‚˜ ì°¾ì•„ë³´ëŠ”ë° ì‹ í†µë°©í†µí•œ íŒ¨í‚¤ì§€ê°€ ìˆì—ˆìŒ.\"}),\"\\n\",r(c.p,{children:[\"ì‚¬ìš©ë²•ì€ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ \",n(c.code,{children:\"git filter-repo --path íŒŒì¼ëª… --invert-paths\"}),\"ì„ ì¨ì£¼ë©´ ëœë‹¤. ì‹ ê¸°í•œ ê²Œ ì§„ì§œ ê¹ƒí—™ ì»¤ë°‹ì—ì„œ í•´ë‹¹ íŒŒì¼ë§Œ ì™ ì‚¬ë¼ì ¸ìˆìŒ. ì‹¤ì œë¡œ ë¡œì»¬ ì €ì¥ì†Œì˜ íˆìŠ¤í† ë¦¬ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ë³€ê²½í•˜ë¯€ë¡œ í˜‘ì—… ì‹œ ë¹„ìƒ ìƒí™©ì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ì¡°ì‹¬í•˜ì.\"]}),\"\\n\",n(c.hr,{})]})}return{default:function(e={}){const{wrapper:r}=e.components||{};return r?n(r,{...e,children:n(_createMdxContent,{...e})}):_createMdxContent(e)}};",
    "permalink": "/study/development/git-filter-repo"
  },
  {
    "title": "Huggingface LLM Course - Chapter1",
    "description": "Read huggingface docs and note down important points",
    "slug": "huggingface-1",
    "publishDate": "2025-04-14",
    "thumbnailUrl": "/study/development/huggingface-1/thum1.jpeg",
    "content": "const{Fragment:e,jsx:n,jsxs:l}=arguments[0];function _createMdxContent(r){const s={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",hr:\"hr\",img:\"img\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...r.components};return l(e,{children:[n(s.p,{children:n(s.img,{src:\"/study/development/huggingface-1/1.png\",alt:\"\"})}),\"\\n\",n(s.p,{children:\"I've been immersing myself in development literature, especially focused on ML. Here are the books I've read (I'm listing them in Korean since that's my native language :D):\"}),\"\\n\",l(s.ul,{children:[\"\\n\",n(s.li,{children:\"ìŠ¤íŠ¸ë¦¬íŠ¸ ì½”ë” : í”„ë¡œê·¸ë˜ë° ì„¸ê³„ì—ì„œ ì‚´ì•„ë‚¨ê¸° ìœ„í•œ ê°œë°œì ìƒì¡´ ê°€ì´ë“œ!\"}),\"\\n\",n(s.li,{children:\"ê·¸ë¦¼ìœ¼ë¡œ ì´í•´í•˜ëŠ” ì„œë²„ êµ¬ì¡°ì™€ ê¸°ìˆ \"}),\"\\n\",n(s.li,{children:\"í˜¼ì ê³µë¶€í•˜ëŠ” ì»´í“¨í„° êµ¬ì¡° + ìš´ì˜ì²´ì œ\"}),\"\\n\",n(s.li,{children:\"íŒŒì´ì¬ í…ìŠ¤íŠ¸ ë§ˆì´ë‹ ì™„ë²½ ê°€ì´ë“œ : ìì—°ì–´ ì²˜ë¦¬ ê¸°ì´ˆë¶€í„° ë”¥ëŸ¬ë‹ ê¸°ë°˜ BERT ëª¨ë¸ê¹Œì§€\"}),\"\\n\",n(s.li,{children:\"íŒŒì´í† ì¹˜ ë”¥ëŸ¬ë‹ ëª¨ë¸ AI ì•± ê°œë°œ ì…ë¬¸\"}),\"\\n\"]}),\"\\n\",n(s.p,{children:\"These books cover a wide range of topics, including fundamental CS knowldege, development conventions, traditional machine learning methods, and practical applications of deep learning models using PyTorch.\"}),\"\\n\",n(s.p,{children:\"I'm currently working to understand deep learning and its development process, though I recognize this is likely a lifelong journeyğŸ˜‚. After going through the materials mentioned above, I've now moved on to the Hugging Face documentation.\"}),\"\\n\",n(s.p,{children:\"I'm genuinely impressed by the documentation's content. It's incredibly user-friendly and helpful for beginners like me who need to start with the basics such as how to use libraries and understanding the numerous methods available. Thanks to the authors' thoughtful approach, I plan to write down the key points in this post.\"}),\"\\n\",n(s.p,{children:\"Huggingface gives us a high-level operation of the model so that we can easily use them. However, There is no an exact details about 'real' implementation at the code level. So, after finishing the huggingface docs I'm going to read pytorch tutorial and 'ë°‘ë°”ë‹¥ë¶€í„° ì‹œì‘í•˜ëŠ” ë”¥ëŸ¬ë‹' series.\"}),\"\\n\",n(s.hr,{}),\"\\n\",n(s.h3,{children:\"What is NLP?\"}),\"\\n\",l(s.blockquote,{children:[\"\\n\",n(s.p,{children:\"NLP is a field of linguistics and machine learning focused on understanding everything related to human language. The aim of NLP tasks is not only to understand single words individually, but to be able to understand the context of those words.\"}),\"\\n\"]}),\"\\n\",n(s.h3,{children:\"pipeline\"}),\"\\n\",n(s.p,{children:\"The pipeline() function executes high-level API tasks for NLP.\"}),\"\\n\",n(e,{children:n(s.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(s.code,{children:[l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#D73A49\"},children:\"from\"}),n(s.span,{style:{color:\"#24292E\"},children:\" transformers \"}),n(s.span,{style:{color:\"#D73A49\"},children:\"import\"}),n(s.span,{style:{color:\"#24292E\"},children:\" pipeline\"})]}),\"\\n\",n(s.span,{className:\"line\"}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#24292E\"},children:\"classifier \"}),n(s.span,{style:{color:\"#D73A49\"},children:\"=\"}),n(s.span,{style:{color:\"#24292E\"},children:\" pipeline(\"}),n(s.span,{style:{color:\"#032F62\"},children:'\"sentiment-analysis\"'}),n(s.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#24292E\"},children:\"classifier(\"}),n(s.span,{style:{color:\"#032F62\"},children:'\"I\\'ve been waiting for a HuggingFace course my whole life.\"'}),n(s.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(s.span,{className:\"line\"}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#D73A49\"},children:\">>>\"}),n(s.span,{style:{color:\"#24292E\"},children:\" [{\"}),n(s.span,{style:{color:\"#032F62\"},children:\"'label'\"}),n(s.span,{style:{color:\"#24292E\"},children:\": \"}),n(s.span,{style:{color:\"#032F62\"},children:\"'POSITIVE'\"}),n(s.span,{style:{color:\"#24292E\"},children:\", \"}),n(s.span,{style:{color:\"#032F62\"},children:\"'score'\"}),n(s.span,{style:{color:\"#24292E\"},children:\": \"}),n(s.span,{style:{color:\"#005CC5\"},children:\"0.9598047137260437\"}),n(s.span,{style:{color:\"#24292E\"},children:\"}]\"})]})]})})}),\"\\n\",n(e,{children:n(s.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(s.code,{children:[l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#D73A49\"},children:\"from\"}),n(s.span,{style:{color:\"#24292E\"},children:\" transformers \"}),n(s.span,{style:{color:\"#D73A49\"},children:\"import\"}),n(s.span,{style:{color:\"#24292E\"},children:\" pipeline\"})]}),\"\\n\",n(s.span,{className:\"line\"}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#24292E\"},children:\"generator \"}),n(s.span,{style:{color:\"#D73A49\"},children:\"=\"}),n(s.span,{style:{color:\"#24292E\"},children:\" pipeline(\"}),n(s.span,{style:{color:\"#032F62\"},children:'\"text-generation\"'}),n(s.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#24292E\"},children:\"generator(\"}),n(s.span,{style:{color:\"#032F62\"},children:'\"In this course, we will teach you how to\"'}),n(s.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(s.span,{className:\"line\"}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#D73A49\"},children:\">>>\"}),n(s.span,{style:{color:\"#24292E\"},children:\"[{\"}),n(s.span,{style:{color:\"#032F62\"},children:\"'generated_text'\"}),n(s.span,{style:{color:\"#24292E\"},children:\": \"}),n(s.span,{style:{color:\"#032F62\"},children:\"'In this course, we will teach you how to understand and use '\"})]}),\"\\n\",n(s.span,{className:\"line\",children:n(s.span,{style:{color:\"#032F62\"},children:\"                    'data flow and data interchange when handling user data. We '\"})}),\"\\n\",n(s.span,{className:\"line\",children:n(s.span,{style:{color:\"#032F62\"},children:\"                    'will be working with one or more of the most commonly used '\"})}),\"\\n\",n(s.span,{className:\"line\",children:n(s.span,{style:{color:\"#032F62\"},children:\"                    'data flows â€” data flows of various types, as seen by the '\"})}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#032F62\"},children:\"                    'HTTP'\"}),n(s.span,{style:{color:\"#24292E\"},children:\"}]\"})]})]})})}),\"\\n\",n(s.p,{children:\"For my learning purposes, the pipeline approach isn't quite suitable. I'm just familiarizing myself with low-level libraries rather than using it for my actual task.\"}),\"\\n\",n(s.h3,{children:\"Bias and Limitations\"}),\"\\n\",n(s.p,{children:\"One thing that's particularly impressive about this...\"}),\"\\n\",n(e,{children:n(s.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(s.code,{children:[l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#D73A49\"},children:\"from\"}),n(s.span,{style:{color:\"#24292E\"},children:\" transformers \"}),n(s.span,{style:{color:\"#D73A49\"},children:\"import\"}),n(s.span,{style:{color:\"#24292E\"},children:\" pipeline\"})]}),\"\\n\",n(s.span,{className:\"line\"}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#24292E\"},children:\"unmasker \"}),n(s.span,{style:{color:\"#D73A49\"},children:\"=\"}),n(s.span,{style:{color:\"#24292E\"},children:\" pipeline(\"}),n(s.span,{style:{color:\"#032F62\"},children:'\"fill-mask\"'}),n(s.span,{style:{color:\"#24292E\"},children:\", \"}),n(s.span,{style:{color:\"#E36209\"},children:\"model\"}),n(s.span,{style:{color:\"#D73A49\"},children:\"=\"}),n(s.span,{style:{color:\"#032F62\"},children:'\"bert-base-uncased\"'}),n(s.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#24292E\"},children:\"result \"}),n(s.span,{style:{color:\"#D73A49\"},children:\"=\"}),n(s.span,{style:{color:\"#24292E\"},children:\" unmasker(\"}),n(s.span,{style:{color:\"#032F62\"},children:'\"This man works as a [MASK].\"'}),n(s.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#005CC5\"},children:\"print\"}),n(s.span,{style:{color:\"#24292E\"},children:\"([r[\"}),n(s.span,{style:{color:\"#032F62\"},children:'\"token_str\"'}),n(s.span,{style:{color:\"#24292E\"},children:\"] \"}),n(s.span,{style:{color:\"#D73A49\"},children:\"for\"}),n(s.span,{style:{color:\"#24292E\"},children:\" r \"}),n(s.span,{style:{color:\"#D73A49\"},children:\"in\"}),n(s.span,{style:{color:\"#24292E\"},children:\" result])\"})]}),\"\\n\",n(s.span,{className:\"line\"}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#24292E\"},children:\"result \"}),n(s.span,{style:{color:\"#D73A49\"},children:\"=\"}),n(s.span,{style:{color:\"#24292E\"},children:\" unmasker(\"}),n(s.span,{style:{color:\"#032F62\"},children:'\"This woman works as a [MASK].\"'}),n(s.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#005CC5\"},children:\"print\"}),n(s.span,{style:{color:\"#24292E\"},children:\"([r[\"}),n(s.span,{style:{color:\"#032F62\"},children:'\"token_str\"'}),n(s.span,{style:{color:\"#24292E\"},children:\"] \"}),n(s.span,{style:{color:\"#D73A49\"},children:\"for\"}),n(s.span,{style:{color:\"#24292E\"},children:\" r \"}),n(s.span,{style:{color:\"#D73A49\"},children:\"in\"}),n(s.span,{style:{color:\"#24292E\"},children:\" result])\"})]}),\"\\n\",n(s.span,{className:\"line\"}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#D73A49\"},children:\">>>\"}),n(s.span,{style:{color:\"#24292E\"},children:\"[\"}),n(s.span,{style:{color:\"#032F62\"},children:\"'lawyer'\"}),n(s.span,{style:{color:\"#24292E\"},children:\", \"}),n(s.span,{style:{color:\"#032F62\"},children:\"'carpenter'\"}),n(s.span,{style:{color:\"#24292E\"},children:\", \"}),n(s.span,{style:{color:\"#032F62\"},children:\"'doctor'\"}),n(s.span,{style:{color:\"#24292E\"},children:\", \"}),n(s.span,{style:{color:\"#032F62\"},children:\"'waiter'\"}),n(s.span,{style:{color:\"#24292E\"},children:\", \"}),n(s.span,{style:{color:\"#032F62\"},children:\"'mechanic'\"}),n(s.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(s.span,{className:\"line\",children:[n(s.span,{style:{color:\"#24292E\"},children:\"   [\"}),n(s.span,{style:{color:\"#032F62\"},children:\"'nurse'\"}),n(s.span,{style:{color:\"#24292E\"},children:\", \"}),n(s.span,{style:{color:\"#032F62\"},children:\"'waitress'\"}),n(s.span,{style:{color:\"#24292E\"},children:\", \"}),n(s.span,{style:{color:\"#032F62\"},children:\"'teacher'\"}),n(s.span,{style:{color:\"#24292E\"},children:\", \"}),n(s.span,{style:{color:\"#032F62\"},children:\"'maid'\"}),n(s.span,{style:{color:\"#24292E\"},children:\", \"}),n(s.span,{style:{color:\"#032F62\"},children:\"'prostitute'\"}),n(s.span,{style:{color:\"#24292E\"},children:\"]\"})]})]})})}),\"\\n\",n(s.p,{children:\"Oh... this is a serious problem. as huggingface tells us:\"}),\"\\n\",l(s.blockquote,{children:[\"\\n\",n(s.p,{children:\"When you use these tools, you therefore need to keep in the back of your mind that the original model you are using could very easily generate sexist, racist, or homophobic content. Fine-tuning the model on your data wonâ€™t make this intrinsic bias disappear.\"}),\"\\n\"]}),\"\\n\",n(s.h3,{children:\"Brief Summary of Models\"}),\"\\n\",l(s.table,{children:[n(s.thead,{children:l(s.tr,{children:[n(s.th,{children:\"Models\"}),n(s.th,{children:\"Examples\"}),n(s.th,{children:\"Tasks\"})]})}),l(s.tbody,{children:[l(s.tr,{children:[n(s.td,{children:\"Encoder\"}),n(s.td,{children:\"ALBERT, BERT, DistilBERT, ELECTRA, RoBERTa\"}),n(s.td,{children:\"Sentence classification, named entity recognition, extractive question answering\"})]}),l(s.tr,{children:[n(s.td,{children:\"Decoder\"}),n(s.td,{children:\"CTRL, GPT, GPT-2, Transformer XL\"}),n(s.td,{children:\"Text generation\"})]}),l(s.tr,{children:[n(s.td,{children:\"Encoder-Decoder\"}),n(s.td,{children:\"BART, T5, Marian, mBART\"}),n(s.td,{children:\"Summarization, translation, generative question answering\"})]})]})]}),\"\\n\",n(s.p,{children:\"Chapter 1 is complete! ğŸ‰\"}),\"\\n\",n(s.hr,{}),\"\\n\",n(s.h2,{children:\"Reference\"}),\"\\n\",l(s.p,{children:[\"Huggingface LLM Course: \",n(s.a,{href:\"https://huggingface.co/learn/llm-course/chapter1/1\",children:\"https://huggingface.co/learn/llm-course/chapter1/1\"})]})]})}return{default:function(e={}){const{wrapper:l}=e.components||{};return l?n(l,{...e,children:n(_createMdxContent,{...e})}):_createMdxContent(e)}};",
    "permalink": "/study/development/huggingface-1"
  },
  {
    "title": "Huggingface LLM Course - Chapter2 & Chapter3",
    "description": "Read huggingface docs. What is a tokenizer and fine-tuning? Train a model!",
    "slug": "huggingface-2",
    "publishDate": "2025-04-15",
    "thumbnailUrl": "/study/development/huggingface-2/thum2.jpeg",
    "content": "const{Fragment:l,jsx:e,jsxs:n}=arguments[0];function _createMdxContent(s){const r={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",hr:\"hr\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...s.components};return n(l,{children:[e(r.h3,{children:\"Behind the pipeline:\"}),\"\\n\",e(r.p,{children:e(r.img,{src:\"/study/development/huggingface-2/2.png\",alt:\"\"})}),\"\\n\",n(r.blockquote,{children:[\"\\n\",e(r.p,{children:\"The vector output by the Transformer module is usually large. It generally has three dimensions:\"}),\"\\n\"]}),\"\\n\",n(r.ul,{children:[\"\\n\",e(r.li,{children:\"Batch size: The number of sequences processed at a time.\"}),\"\\n\",e(r.li,{children:\"Sequence length: The length of the numerical representation of the sequence.\"}),\"\\n\",e(r.li,{children:\"Hidden size: The vector dimension of each model input.\"}),\"\\n\"]}),\"\\n\",e(r.p,{children:\"The hidden size can be very large. 768 is common for smaller models, and in larger models this can reach 3072 or more.\"}),\"\\n\",e(r.h3,{children:\"Model heads\"}),\"\\n\",e(r.p,{children:\"The model heads take the high-dimensional vector of hidden states as input and project them onto a different dimension. They are usually composed of one or a few linear layers.\"}),\"\\n\",e(r.h3,{children:\"Model\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#24292E\"},children:\" transformers \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" BertConfig, BertModel\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"config \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" BertConfig()\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"model \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" BertModel(config)\"})]})]})})}),\"\\n\",e(r.p,{children:\"This is to load the BERT's architecture with random values of weights. If I use it, it will output gibberish. It needs to be trained first but it takes a lot of time and resources. For preventing this, we can use a pre-trained model:\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#24292E\"},children:\" transformers \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" BertModel\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"model \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" BertModel.from_pretrained(\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"bert-base-cased\"'}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]})]})})}),\"\\n\",e(r.h3,{children:\"Tokenization\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#24292E\"},children:\" transformers \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" AutoTokenizer\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"tokenizer \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" AutoTokenizer.from_pretrained(\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"bert-base-cased\"'}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"sequence \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#032F62\"},children:' \"Using a Transformer network is simple\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"tokens \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" tokenizer.tokenize(sequence)\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#005CC5\"},children:\"print\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(tokens)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#24292E\"},children:\" [\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'Using'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'a'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'transform'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'##er'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'network'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'is'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'simple'\"}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]})]})})}),\"\\n\",e(r.p,{children:\"From tokens to input IDs\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"ids \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" tokenizer.convert_tokens_to_ids(tokens)\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#005CC5\"},children:\"print\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(ids)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#24292E\"},children:\"[\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"7993\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"170\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"11303\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"1200\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"2443\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"1110\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"3014\"}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]})]})})}),\"\\n\",e(r.p,{children:\"Decoding\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"decoded_string \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" tokenizer.decode([\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"7993\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"170\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"11303\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"1200\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"2443\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"1110\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"3014\"}),e(r.span,{style:{color:\"#24292E\"},children:\"])\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#005CC5\"},children:\"print\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(decoded_string)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'Using a Transformer network is simple'\"})]})]})})}),\"\\n\",e(r.p,{children:\"Send to Model\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" torch\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#24292E\"},children:\" transformers \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" AutoTokenizer, AutoModelForSequenceClassification\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"checkpoint \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#032F62\"},children:' \"distilbert-base-uncased-finetuned-sst-2-english\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"tokenizer \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" AutoTokenizer.from_pretrained(checkpoint)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"model \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" AutoModelForSequenceClassification.from_pretrained(checkpoint)\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"sequence \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#032F62\"},children:' \"I\\'ve been waiting for a HuggingFace course my whole life.\"'})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"tokens \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" tokenizer.tokenize(sequence)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"ids \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" tokenizer.convert_tokens_to_ids(tokens)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"input_ids \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" torch.tensor(ids)\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#6A737D\"},children:\"# This line will fail.\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"model(input_ids)\"})}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" IndexError\"}),e(r.span,{style:{color:\"#24292E\"},children:\": Dimension out of \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"range\"}),e(r.span,{style:{color:\"#24292E\"},children:\" (expected to be \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"in\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" range\"}),e(r.span,{style:{color:\"#24292E\"},children:\" of [\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"-\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"1\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),e(r.span,{style:{color:\"#24292E\"},children:\"], but got \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"1\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]})]})})}),\"\\n\",e(r.p,{children:\"Why did this fail?\"}),\"\\n\",n(r.blockquote,{children:[\"\\n\",e(r.p,{children:\"Transformers models expect multiple sentences by default.\"}),\"\\n\"]}),\"\\n\",e(r.p,{children:\"So, this is the right way to send it to the model:\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"input_ids \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" torch.tensor([ids])\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"model(input_ids)\"})})]})})}),\"\\n\",e(r.p,{children:\"I will handle Datasets library later. Therefore, this post doesn't cover it detailedly.\"}),\"\\n\",e(r.h3,{children:\"Fine-tuning a model with the Trainer API:\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#24292E\"},children:\" transformers \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" Trainer\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"trainer \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" Trainer(\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    model,\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    training_args,\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"    train_dataset\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"tokenized_datasets[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"train\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"],\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"    eval_dataset\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"tokenized_datasets[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"validation\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"],\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"    data_collator\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"data_collator,\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"    tokenizer\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"tokenizer,\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\")\"})}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"trainer.train()\"})})]})})}),\"\\n\",e(r.p,{children:\"Then Trainer will start the fine-tuning and report the training loss every 500 steps.\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"predictions \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" trainer.predict(tokenized_datasets[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"validation\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"])\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#005CC5\"},children:\"print\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(predictions.predictions.shape, predictions.label_ids.shape)\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#24292E\"},children:\" (\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"408\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"2\"}),e(r.span,{style:{color:\"#24292E\"},children:\") (\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"408\"}),e(r.span,{style:{color:\"#24292E\"},children:\",)\"})]})]})})}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" numpy \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"as\"}),e(r.span,{style:{color:\"#24292E\"},children:\" np\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" evaluate\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"preds \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" np.argmax(predictions.predictions, \"}),e(r.span,{style:{color:\"#E36209\"},children:\"axis\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=-\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"1\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"metric \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" evaluate.load(\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"glue\"'}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:'\"mrpc\"'}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"metric.compute(\"}),e(r.span,{style:{color:\"#E36209\"},children:\"predictions\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"preds, \"}),e(r.span,{style:{color:\"#E36209\"},children:\"references\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"predictions.label_ids)\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'accuracy'\"}),e(r.span,{style:{color:\"#24292E\"},children:\": \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0.8578431372549019\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'f1'\"}),e(r.span,{style:{color:\"#24292E\"},children:\": \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0.8996539792387542\"}),e(r.span,{style:{color:\"#24292E\"},children:\"}\"})]})]})})}),\"\\n\",e(r.p,{children:\"But same reason as pipeline, I won't use this high-level APIs.\"}),\"\\n\",e(r.h3,{children:\"A full training\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#24292E\"},children:\" datasets \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" load_dataset\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#24292E\"},children:\" transformers \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" AutoTokenizer, DataCollatorWithPadding\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"raw_datasets \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" load_dataset(\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"glue\"'}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:'\"mrpc\"'}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"checkpoint \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#032F62\"},children:' \"bert-base-uncased\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"tokenizer \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" AutoTokenizer.from_pretrained(checkpoint)\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"def\"}),e(r.span,{style:{color:\"#6F42C1\"},children:\" tokenize_function\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(example):\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    return\"}),e(r.span,{style:{color:\"#24292E\"},children:\" tokenizer(example[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"sentence1\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"], example[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"sentence2\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"], \"}),e(r.span,{style:{color:\"#E36209\"},children:\"truncation\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"True\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"tokenized_datasets \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" raw_datasets.map(tokenize_function, \"}),e(r.span,{style:{color:\"#E36209\"},children:\"batched\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"True\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"data_collator \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" DataCollatorWithPadding(\"}),e(r.span,{style:{color:\"#E36209\"},children:\"tokenizer\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"tokenizer)\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"tokenized_datasets \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" tokenized_datasets.remove_columns([\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"sentence1\"'}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:'\"sentence2\"'}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:'\"idx\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"])\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"tokenized_datasets \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" tokenized_datasets.rename_column(\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"label\"'}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:'\"labels\"'}),e(r.span,{style:{color:\"#24292E\"},children:\") \"}),e(r.span,{style:{color:\"#6A737D\"},children:\"# model expects the argument to be named 'labels'\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"tokenized_datasets.set_format(\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"torch\"'}),e(r.span,{style:{color:\"#24292E\"},children:\") \"}),e(r.span,{style:{color:\"#6A737D\"},children:\"# therefore, they return PyTorch tensors instead of lists\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"tokenized_datasets[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"train\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"].column_names\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#24292E\"},children:\" [\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"attention_mask\"'}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:'\"input_ids\"'}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:'\"labels\"'}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:'\"token_type_ids\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]})]})})}),\"\\n\",e(r.p,{children:\"define a dataloaders:\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#24292E\"},children:\" torch.utils.data \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" DataLoader\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"train_dataloader \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" DataLoader(\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    tokenized_datasets[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"train\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"], \"}),e(r.span,{style:{color:\"#E36209\"},children:\"shuffle\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"True\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#E36209\"},children:\"batch_size\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"8\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#E36209\"},children:\"collate_fn\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"data_collator\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\")\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"eval_dataloader \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" DataLoader(\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    tokenized_datasets[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"validation\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"], \"}),e(r.span,{style:{color:\"#E36209\"},children:\"batch_size\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"8\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#E36209\"},children:\"collate_fn\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"data_collator\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\")\"})})]})})}),\"\\n\",e(r.p,{children:\"To quickly check there is no mistake in the data processing:\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"for\"}),e(r.span,{style:{color:\"#24292E\"},children:\" batch \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"in\"}),e(r.span,{style:{color:\"#24292E\"},children:\" train_dataloader:\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#D73A49\"},children:\"    break\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"{k: v.shape \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"for\"}),e(r.span,{style:{color:\"#24292E\"},children:\" k, v \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"in\"}),e(r.span,{style:{color:\"#24292E\"},children:\" batch.items()}\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#24292E\"},children:\"{\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'attention_mask'\"}),e(r.span,{style:{color:\"#24292E\"},children:\": torch.Size([\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"8\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"65\"}),e(r.span,{style:{color:\"#24292E\"},children:\"]),\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#032F62\"},children:\"    'input_ids'\"}),e(r.span,{style:{color:\"#24292E\"},children:\": torch.Size([\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"8\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"65\"}),e(r.span,{style:{color:\"#24292E\"},children:\"]),\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#032F62\"},children:\"    'labels'\"}),e(r.span,{style:{color:\"#24292E\"},children:\": torch.Size([\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"8\"}),e(r.span,{style:{color:\"#24292E\"},children:\"]),\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#032F62\"},children:\"    'token_type_ids'\"}),e(r.span,{style:{color:\"#24292E\"},children:\": torch.Size([\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"8\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"65\"}),e(r.span,{style:{color:\"#24292E\"},children:\"])}\"})]})]})})}),\"\\n\",e(r.p,{children:\"After loading a pre-trained model:\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"outputs \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" model(\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"**\"}),e(r.span,{style:{color:\"#24292E\"},children:\"batch)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#005CC5\"},children:\"print\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(output.loss, outputs.logits.shape)\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#24292E\"},children:\" tensor(\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0.5441\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#E36209\"},children:\"grad_fn\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=<\"}),e(r.span,{style:{color:\"#24292E\"},children:\"NllLossBackward\"}),e(r.span,{style:{color:\"#D73A49\"},children:\">\"}),e(r.span,{style:{color:\"#24292E\"},children:\") torch.Size([\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"8\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"2\"}),e(r.span,{style:{color:\"#24292E\"},children:\"])\"})]})]})})}),\"\\n\",e(r.p,{children:\"Optimizer:\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#24292E\"},children:\" transformers \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" AdamW\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"optimizer \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" AdamW(model.parameters(), \"}),e(r.span,{style:{color:\"#E36209\"},children:\"lr\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"5e-5\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]})]})})}),\"\\n\",e(r.p,{children:\"Learning rate scheduler:\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#24292E\"},children:\" transformers \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" get_scheduler\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"num_epochs \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" 3\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"num_training_steps \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" num_epochs \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"*\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" len\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(train_dataloader)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"lr_scheduler \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" get_scheduler(\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#032F62\"},children:'    \"linear\"'}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"    optimizer\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"optimizer,\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"    num_warmup_steps\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),e(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#E36209\"},children:\"    num_training_steps\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"num_training_steps,\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\")\"})})]})})}),\"\\n\",e(r.p,{children:\"Training roop:\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"device \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" torch.device(\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"cuda\"'}),e(r.span,{style:{color:\"#24292E\"},children:\") \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"if\"}),e(r.span,{style:{color:\"#24292E\"},children:\" torch.cuda.is_available() \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"else\"}),e(r.span,{style:{color:\"#24292E\"},children:\" torch.device(\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"cpu\"'}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"model.to(device)\"})}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"progress_bar \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" tqdm(\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"range\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(num_training_steps))\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"model.train()\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"for\"}),e(r.span,{style:{color:\"#24292E\"},children:\" epoch \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"in\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" range\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(num_epochs):\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    for\"}),e(r.span,{style:{color:\"#24292E\"},children:\" batch \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"in\"}),e(r.span,{style:{color:\"#24292E\"},children:\" train_dataloader:\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        batch \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" {k: v.to(device) \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"for\"}),e(r.span,{style:{color:\"#24292E\"},children:\" k, v \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"in\"}),e(r.span,{style:{color:\"#24292E\"},children:\" batch.items()}\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        outputs \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" model(\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"**\"}),e(r.span,{style:{color:\"#24292E\"},children:\"batch)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        loss \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" outputs.loss\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        loss.backward()\"})}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        optimizer.step()\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        lr_scheduler.step()\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        optimizer.zero_grad()\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        progress_bar.update(\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"1\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]})]})})}),\"\\n\",e(r.p,{children:\"The training flow is as follows:\"}),\"\\n\",n(r.ol,{children:[\"\\n\",e(r.li,{children:\"Calculate the loss\"}),\"\\n\",e(r.li,{children:\"Calculate the gradients during backpropagation\"}),\"\\n\",e(r.li,{children:\"Update the model parameters using the optimizer\"}),\"\\n\",e(r.li,{children:\"Tune the learning rate\"}),\"\\n\",e(r.li,{children:\"Initialize gradients to zero\"}),\"\\n\"]}),\"\\n\",e(r.p,{children:\"With the Accelerate library, which enables more efficient and faster training performance, we need to make some minor revisions to the code.\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"accelerate \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" Accelerator()\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#005CC5\"},children:\"...\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"train_dataloader, eval_dataloader, model, optimizer \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" accelerator.prepare(\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    train_dataloader, eval_dataloader, model, optimizer\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\")\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#005CC5\"},children:\"...\"})}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"model.train()\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"for\"}),e(r.span,{style:{color:\"#24292E\"},children:\" epoch \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"in\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" range\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(num_epochs):\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"    for\"}),e(r.span,{style:{color:\"#24292E\"},children:\" batch \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"in\"}),e(r.span,{style:{color:\"#24292E\"},children:\" train_dataloader:\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        outputs \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" model(\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"**\"}),e(r.span,{style:{color:\"#24292E\"},children:\"batch)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        loss \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" outputs.loss\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        accelerator.backward(loss)\"})}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        optimizer.step()\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        lr_scheduler.step()\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        optimizer.zero_grad()\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"        progress_bar.update(\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"1\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]})]})})}),\"\\n\",n(r.p,{children:[e(r.code,{children:\"accelerate.prepare()\"}),\" wraps these objects in the appropriate container to ensure your distributed training functions properly as intended.\"]}),\"\\n\",e(r.hr,{}),\"\\n\",e(r.h2,{children:\"Reference\"}),\"\\n\",n(r.p,{children:[e(r.a,{href:\"https://huggingface.co/learn/llm-course/chapter2/1?fw=pt\",children:\"https://huggingface.co/learn/llm-course/chapter2/1?fw=pt\"}),\"\\n\",e(r.a,{href:\"https://huggingface.co/learn/llm-course/chapter3/1?fw=pt\",children:\"https://huggingface.co/learn/llm-course/chapter3/1?fw=pt\"})]})]})}return{default:function(l={}){const{wrapper:n}=l.components||{};return n?e(n,{...l,children:e(_createMdxContent,{...l})}):_createMdxContent(l)}};",
    "permalink": "/study/development/huggingface-2"
  },
  {
    "title": "Huggingface LLM Course - Chapter5 (Datasets Library)",
    "description": "Read huggingface docs. Deep dive into datasets library!",
    "slug": "huggingface-3",
    "publishDate": "2025-04-16",
    "thumbnailUrl": "/study/development/huggingface-3/thum3.jpeg",
    "content": "const{Fragment:e,jsx:l,jsxs:n}=arguments[0];function _createMdxContent(s){const r={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",hr:\"hr\",img:\"img\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...s.components};return n(e,{children:[l(r.p,{children:\"In chapter 5, docs handles datasets library. Key questions is following:\"}),\"\\n\",n(r.ul,{children:[\"\\n\",l(r.li,{children:\"What do you do when your dataset is not on the Hub?\"}),\"\\n\",l(r.li,{children:\"How can you slice and dice a dataset? (And what if you really need to use Pandas?)\"}),\"\\n\",l(r.li,{children:\"What do you do when your dataset is huge and will melt your laptopâ€™s RAM?\"}),\"\\n\",l(r.li,{children:\"What the heck are â€œmemory mappingâ€ and Apache Arrow?\"}),\"\\n\",l(r.li,{children:\"How can you create your own dataset and push it to the Hub?\"}),\"\\n\"]}),\"\\n\",l(r.h3,{children:\"Common data formats:\"}),\"\\n\",n(r.table,{children:[l(r.thead,{children:n(r.tr,{children:[l(r.th,{children:\"Data format\"}),l(r.th,{children:\"Loading script\"}),l(r.th,{children:\"Example\"})]})}),n(r.tbody,{children:[n(r.tr,{children:[l(r.td,{children:\"CSV & TSV\"}),l(r.td,{children:\"csv\"}),l(r.td,{children:'load_dataset(\"csv\", data_files=\"my_file.csv\")'})]}),n(r.tr,{children:[l(r.td,{children:\"Text files\"}),l(r.td,{children:\"text\"}),l(r.td,{children:'load_dataset(\"text\", data_files=\"my_file.txt\")'})]}),n(r.tr,{children:[l(r.td,{children:\"JSON & JSON Lines\"}),l(r.td,{children:\"json\"}),l(r.td,{children:'load_dataset(\"json\", data_files=\"my_file.jsonl\")'})]}),n(r.tr,{children:[l(r.td,{children:\"Pickled DataFrames\"}),l(r.td,{children:\"pandas\"}),l(r.td,{children:'load_dataset(\"pandas\", data_files=\"my_dataframe.pkl\")'})]})]})]}),\"\\n\",l(r.h3,{children:\"Load Datasets\"}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),l(r.span,{style:{color:\"#24292E\"},children:\" datasets \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),l(r.span,{style:{color:\"#24292E\"},children:\" load_dataset\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"data_files \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"train\"'}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#032F62\"},children:'\"SQuAD_it-train.json\"'}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:'\"test\"'}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#032F62\"},children:'\"SQuAD_it-test.json\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"}\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"squad_it_dataset \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" load_dataset(\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"json\"'}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#E36209\"},children:\"data_files\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\"data_files, \"}),l(r.span,{style:{color:\"#E36209\"},children:\"field\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"data\"'}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]})]})})}),\"\\n\",l(r.p,{children:\"Or it is possible to put a raw string to data_files parameter.\"}),\"\\n\",l(r.h3,{children:\"Slice and dice\"}),\"\\n\",n(r.blockquote,{children:[\"\\n\",l(r.p,{children:\"A good practice when doing any sort of data analysis is to grab a small random sample to get a quick feel for the type of data youâ€™re working with. In ğŸ¤— Datasets, we can create a random sample by chaining the Dataset.shuffle() and Dataset.select() functions together:\"}),\"\\n\"]}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"drug_sample \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" drug_dataset[\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"train\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"].shuffle(\"}),l(r.span,{style:{color:\"#E36209\"},children:\"seed\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"42\"}),l(r.span,{style:{color:\"#24292E\"},children:\").select(\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"range\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"1000\"}),l(r.span,{style:{color:\"#24292E\"},children:\"))\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#6A737D\"},children:\"# Peek at the first few examples\"})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"drug_sample[:\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"3\"}),l(r.span,{style:{color:\"#24292E\"},children:\"]\"})]})]})})}),\"\\n\",l(r.p,{children:\"Shuffling and selecting small samples is quite a good practice!\"}),\"\\n\",n(r.p,{children:[l(r.code,{children:\"drug_dataset.unique('drugName')\"}),\" is a function to find the number of unique drug names. We can pass any column names as a parameter.\"]}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"def\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" lowercase_condition\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(example):\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"    return\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"condition\"'}),l(r.span,{style:{color:\"#24292E\"},children:\": example[\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"condition\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"].lower()}\"})]}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"drug_dataset.map(lowercase_condition)\"})}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" AttributeError\"}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'NoneType'\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" object\"}),l(r.span,{style:{color:\"#24292E\"},children:\" has no attribute \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'lower'\"})]})]})})}),\"\\n\",n(r.blockquote,{children:[\"\\n\",n(r.p,{children:[\"We can infer that some of the entires in the \",l(r.code,{children:\"condition\"}),\" column are \",l(r.code,{children:\"None\"}),\", which cannot be lowercased as they're not strings. Let's drop these rows using Dataset.filter(), which works in a similar way to \",l(r.code,{children:\"Dataset.map()\"}),\" and expects a function that receives a single example of the dataset.\"]}),\"\\n\"]}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(r.code,{children:n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"drug_dataset \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" drug_dataset.filter(\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"lambda\"}),l(r.span,{style:{color:\"#24292E\"},children:\" x: x[\"}),l(r.span,{style:{color:\"#032F62\"},children:\"'condition'\"}),l(r.span,{style:{color:\"#24292E\"},children:\"] \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"is\"}),l(r.span,{style:{color:\"#D73A49\"},children:\" not\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" None\"}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]})})})}),\"\\n\",n(r.p,{children:[l(r.code,{children:\"filter\"}),\" and \",l(r.code,{children:\"map\"}),\" method are similar to Javascript's. Filter removes falsey elements and only keeps truthy elements.\\nBut what exactly is an element to which a method is applied?\"]}),\"\\n\",l(r.p,{children:\"For a single dataset, the method executes a task on each row. For a dataset dictionary, the method iterates through each split and performs a task on each row within that split.\"}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"def\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" compute_review_length\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(example):\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"    return\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"review_length\"'}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"len\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(example[\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"review\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"].split())}\"})]}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"drug_dataset \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" drug_dataset.map(compute_review_length)\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#6A737D\"},children:\"# Inspect the first training example\"})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"drug_dataset[\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"train\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"][\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),l(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {\"}),l(r.span,{style:{color:\"#032F62\"},children:\"'patient_id'\"}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"206461\"}),l(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#032F62\"},children:\"     'drugName'\"}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'Valsartan'\"}),l(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#032F62\"},children:\"     'condition'\"}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'left ventricular dysfunction'\"}),l(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#032F62\"},children:\"     'review'\"}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'\\\"It has no side effect, I take it in combination of Bystolic 5 Mg and Fish Oil\\\"'\"}),l(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#032F62\"},children:\"     'rating'\"}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"9.0\"}),l(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#032F62\"},children:\"     'date'\"}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'May 20, 2012'\"}),l(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#032F62\"},children:\"     'usefulCount'\"}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"27\"}),l(r.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#032F62\"},children:\"     'review_length'\"}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"17\"}),l(r.span,{style:{color:\"#24292E\"},children:\"}\"})]})]})})}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"drug_dataset \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" drug_dataset.filter(\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"lambda\"}),l(r.span,{style:{color:\"#24292E\"},children:\" x: x[\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"review_length\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"] \"}),l(r.span,{style:{color:\"#D73A49\"},children:\">\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" 30\"}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#005CC5\"},children:\"print\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(drug_dataset.num_rows)\"})]}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),l(r.span,{style:{color:\"#24292E\"},children:\"{\"}),l(r.span,{style:{color:\"#032F62\"},children:\"'train'\"}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"138514\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'test'\"}),l(r.span,{style:{color:\"#24292E\"},children:\": \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"46108\"}),l(r.span,{style:{color:\"#24292E\"},children:\"}\"})]})]})})}),\"\\n\",l(r.h3,{children:\"The map() methodâ€™s superpowers\"}),\"\\n\",n(r.blockquote,{children:[\"\\n\",l(r.p,{children:\"The Dataset.map() method takes a batched argument that, if set to True, causes it to send a batch of examples to the map function at once (the batch size is configurable but defaults to 1,000).\"}),\"\\n\"]}),\"\\n\",l(r.p,{children:l(r.img,{src:\"/study/development/huggingface-3/1.png\",alt:\"\"})}),\"\\n\",l(r.p,{children:\"Wow, a false batch takes 5 times longer.\"}),\"\\n\",l(r.p,{children:\"Tokenizer also can process a batch.\"}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),l(r.span,{style:{color:\"#24292E\"},children:\" transformers \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),l(r.span,{style:{color:\"#24292E\"},children:\" AutoTokenizer\"})]}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"tokenizer \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" AutoTokenizer.from_pretrained(\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"bert-base-cased\"'}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"def\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" tokenize_function\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(examples):\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"    return\"}),l(r.span,{style:{color:\"#24292E\"},children:\" tokenizer(examples[\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"review\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"], \"}),l(r.span,{style:{color:\"#E36209\"},children:\"truncation\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"True\"}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]})]})})}),\"\\n\",l(r.h3,{children:\"Pandas\"}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:l(r.code,{children:n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"drug_dataset.set_format(\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"pandas\"'}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]})})})}),\"\\n\",l(r.h3,{children:\"Creating a validation set\"}),\"\\n\",n(r.blockquote,{children:[\"\\n\",l(r.p,{children:\"ğŸ¤— Datasets provides a Dataset.train_test_split() function that is based on the famous functionality from scikit-learn. Letâ€™s use it to split our training set into train and validation splits (we set the seed argument for reproducibility):\"}),\"\\n\"]}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"drug_dataset_clean \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" drug_dataset[\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"train\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"].train_test_split(\"}),l(r.span,{style:{color:\"#E36209\"},children:\"train_size\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"0.8\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#E36209\"},children:\"seed\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"42\"}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#6A737D\"},children:'# Rename the default \"test\" split to \"validation\"'})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"drug_dataset_clean[\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"validation\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"] \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" drug_dataset_clean.pop(\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"test\"'}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#6A737D\"},children:'# Add the \"test\" set to our `DatasetDict`'})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"drug_dataset_clean[\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"test\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"] \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" drug_dataset[\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"test\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"drug_dataset_clean\"})}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),l(r.span,{style:{color:\"#24292E\"},children:\" DatasetDict({\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"        train: Dataset({\"})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"            features: [\"}),l(r.span,{style:{color:\"#032F62\"},children:\"'patient_id'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'drugName'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'condition'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'review'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'rating'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'date'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'usefulCount'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'review_length'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'review_clean'\"}),l(r.span,{style:{color:\"#24292E\"},children:\"],\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"            num_rows: \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"110811\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"        })\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"        validation: Dataset({\"})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"            features: [\"}),l(r.span,{style:{color:\"#032F62\"},children:\"'patient_id'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'drugName'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'condition'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'review'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'rating'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'date'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'usefulCount'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'review_length'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'review_clean'\"}),l(r.span,{style:{color:\"#24292E\"},children:\"],\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"            num_rows: \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"27703\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"        })\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"        test: Dataset({\"})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"            features: [\"}),l(r.span,{style:{color:\"#032F62\"},children:\"'patient_id'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'drugName'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'condition'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'review'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'rating'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'date'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'usefulCount'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'review_length'\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#032F62\"},children:\"'review_clean'\"}),l(r.span,{style:{color:\"#24292E\"},children:\"],\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"            num_rows: \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"46108\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"        })\"})}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"    })\"})})]})})}),\"\\n\",n(r.p,{children:[l(r.code,{children:\"pop('key')\"}),\" removes and returns the value associated with the specified key from the dictionary.\"]}),\"\\n\",l(r.h3,{children:\"Saving a dataset\"}),\"\\n\",n(r.table,{children:[l(r.thead,{children:n(r.tr,{children:[l(r.th,{children:\"Data format\"}),l(r.th,{children:\"Function\"})]})}),n(r.tbody,{children:[n(r.tr,{children:[l(r.td,{children:\"Arrow\"}),l(r.td,{children:\"Dataset.save_to_disk()\"})]}),n(r.tr,{children:[l(r.td,{children:\"CSV\"}),l(r.td,{children:\"Dataset.to_csv()\"})]}),n(r.tr,{children:[l(r.td,{children:\"JSON\"}),l(r.td,{children:\"Dataset.to_json()\"})]})]})]}),\"\\n\",l(r.h3,{children:\"Dealing with huge data\"}),\"\\n\",n(r.blockquote,{children:[\"\\n\",l(r.p,{children:\"the WebText corpus used to pretrain GPT-2 consists of over 8 million documents and 40 GB of text â€” loading this into your laptopâ€™s RAM is likely to give it a heart attack!\\nFortunately, ğŸ¤— Datasets has been designed to overcome these limitations. It frees you from memory management problems by treating datasets as memory-mapped files, and from hard drive limits by streaming the entries in a corpus.\"}),\"\\n\"]}),\"\\n\",n(r.blockquote,{children:[\"\\n\",l(r.p,{children:\"So how does ğŸ¤— Datasets solve this memory management problem? ğŸ¤— Datasets treats each dataset as a memory-mapped file, which provides a mapping between RAM and filesystem storage that allows the library to access and operate on elements of the dataset without needing to fully load it into memory.\"}),\"\\n\"]}),\"\\n\",l(r.h3,{children:\"Semantic search with FAISS\"}),\"\\n\",l(r.p,{children:\"There's a library called senetence-transformers that is dedicated to creating embeddings.\"}),\"\\n\",l(r.p,{children:\"Following an example from the documentation, we're going to implement asymmetric semantic search, which is characterized by typically short queries (like a questions or keywords), while the target documents are longer paragraphs or passages containing the answer.\"}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),l(r.span,{style:{color:\"#24292E\"},children:\" transformers \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),l(r.span,{style:{color:\"#24292E\"},children:\" AutoTokenizer, AutoModel\"})]}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"model_ckpt \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#032F62\"},children:' \"sentence-transformers/multi-qa-mpnet-base-dot-v1\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"tokenizer \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" AutoTokenizer.from_pretrained(model_ckpt)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"model \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" AutoModel.from_pretrained(model_ckpt)\"})]})]})})}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),l(r.span,{style:{color:\"#24292E\"},children:\" torch\"})]}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"device \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" torch.device(\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"cuda\"'}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"model.to(device)\"})})]})})}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"def\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" cls_pooling\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(model_output):\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"    return\"}),l(r.span,{style:{color:\"#24292E\"},children:\" model_output.last_hidden_state[:, \"}),l(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),l(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"def\"}),l(r.span,{style:{color:\"#6F42C1\"},children:\" get_embeddings\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(text_list):\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"    encoded_input \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" tokenizer(\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"        text_list, \"}),l(r.span,{style:{color:\"#E36209\"},children:\"padding\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"True\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#E36209\"},children:\"truncation\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"True\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#E36209\"},children:\"return_tensors\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"pt\"'})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"    )\"})}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"    encoded_input \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" {k: v.to(device) \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"for\"}),l(r.span,{style:{color:\"#24292E\"},children:\" k, v \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"in\"}),l(r.span,{style:{color:\"#24292E\"},children:\" encoded_input.items()}\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"    model_output \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" model(\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"**\"}),l(r.span,{style:{color:\"#24292E\"},children:\"encoded_input)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"    return\"}),l(r.span,{style:{color:\"#24292E\"},children:\" cls_pooling(model_output)\"})]})]})})}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"embeddings_dataset \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" comments_dataset.map(\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"    lambda\"}),l(r.span,{style:{color:\"#24292E\"},children:\" x: {\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"embeddings\"'}),l(r.span,{style:{color:\"#24292E\"},children:\": get_embeddings(x[\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"text\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"]).detach().cpu().numpy()[\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),l(r.span,{style:{color:\"#24292E\"},children:\"]}\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\")\"})})]})})}),\"\\n\",l(r.p,{children:\"After embedding, let's use FAISS (short for Facebook AI Similarity Search). FAISS is a library that provides efficient algorithms to quickly search and cluster embedding vectors.\"}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"embeddings_dataset.add_faiss_index(\"}),l(r.span,{style:{color:\"#E36209\"},children:\"column\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"embeddings\"'}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"question \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#032F62\"},children:' \"How can I load a dataset offline?\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"question_embedding \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" get_embeddings([question]).cpu().detach().numpy()\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\"question_embedding.shape\"})}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"scores, samples \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" embeddings_dataset.get_nearest_examples(\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#032F62\"},children:'    \"embeddings\"'}),l(r.span,{style:{color:\"#24292E\"},children:\", question_embedding, \"}),l(r.span,{style:{color:\"#E36209\"},children:\"k\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"5\"})]}),\"\\n\",l(r.span,{className:\"line\",children:l(r.span,{style:{color:\"#24292E\"},children:\")\"})})]})})}),\"\\n\",l(r.p,{children:\"sorting by score:\"}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),l(r.span,{style:{color:\"#24292E\"},children:\" pandas \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"as\"}),l(r.span,{style:{color:\"#24292E\"},children:\" pd\"})]}),\"\\n\",l(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"samples_df \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" pd.DataFrame.from_dict(samples)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"samples_df[\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"scores\"'}),l(r.span,{style:{color:\"#24292E\"},children:\"] \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#24292E\"},children:\" scores\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#24292E\"},children:\"samples_df.sort_values(\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"scores\"'}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#E36209\"},children:\"ascending\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"False\"}),l(r.span,{style:{color:\"#24292E\"},children:\", \"}),l(r.span,{style:{color:\"#E36209\"},children:\"inplace\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"True\"}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]})]})})}),\"\\n\",l(e,{children:l(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#D73A49\"},children:\"for\"}),l(r.span,{style:{color:\"#24292E\"},children:\" _, row \"}),l(r.span,{style:{color:\"#D73A49\"},children:\"in\"}),l(r.span,{style:{color:\"#24292E\"},children:\" samples_df.iterrows():\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#005CC5\"},children:\"    print\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"f\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"COMMENT: '}),l(r.span,{style:{color:\"#005CC5\"},children:\"{\"}),l(r.span,{style:{color:\"#24292E\"},children:\"row.comments\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"}\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"'}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#005CC5\"},children:\"    print\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"f\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"SCORE: '}),l(r.span,{style:{color:\"#005CC5\"},children:\"{\"}),l(r.span,{style:{color:\"#24292E\"},children:\"row.scores\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"}\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"'}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#005CC5\"},children:\"    print\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"f\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"TITLE: '}),l(r.span,{style:{color:\"#005CC5\"},children:\"{\"}),l(r.span,{style:{color:\"#24292E\"},children:\"row.title\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"}\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"'}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#005CC5\"},children:\"    print\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(\"}),l(r.span,{style:{color:\"#D73A49\"},children:\"f\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"URL: '}),l(r.span,{style:{color:\"#005CC5\"},children:\"{\"}),l(r.span,{style:{color:\"#24292E\"},children:\"row.html_url\"}),l(r.span,{style:{color:\"#005CC5\"},children:\"}\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"'}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#005CC5\"},children:\"    print\"}),l(r.span,{style:{color:\"#24292E\"},children:\"(\"}),l(r.span,{style:{color:\"#032F62\"},children:'\"=\"'}),l(r.span,{style:{color:\"#D73A49\"},children:\" *\"}),l(r.span,{style:{color:\"#005CC5\"},children:\" 50\"}),l(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[l(r.span,{style:{color:\"#005CC5\"},children:\"    print\"}),l(r.span,{style:{color:\"#24292E\"},children:\"()\"})]})]})})}),\"\\n\",l(r.hr,{}),\"\\n\",l(r.h2,{children:\"Reference\"}),\"\\n\",l(r.p,{children:l(r.a,{href:\"https://huggingface.co/learn/llm-course/chapter5/1?fw=pt\",children:\"https://huggingface.co/learn/llm-course/chapter5/1?fw=pt\"})})]})}return{default:function(e={}){const{wrapper:n}=e.components||{};return n?l(n,{...e,children:l(_createMdxContent,{...e})}):_createMdxContent(e)}};",
    "permalink": "/study/development/huggingface-3"
  },
  {
    "title": "Huggingface LLM Course - Chapter7 (Classical NLP tasks)",
    "description": "Read huggingface docs. This time, let's cover to know classical NLP tasks.",
    "slug": "huggingface-4",
    "publishDate": "2025-04-24",
    "thumbnailUrl": "/study/development/huggingface-1/thum4.jpeg",
    "content": "const{Fragment:l,jsx:e,jsxs:n}=arguments[0];function _createMdxContent(s){const r={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...s.components};return n(l,{children:[e(r.p,{children:\"Each section of this chapter is independent. The sections are following:\"}),\"\\n\",n(r.ul,{children:[\"\\n\",e(r.li,{children:\"Token classification\"}),\"\\n\",e(r.li,{children:\"Masked language modeling (like BERT)\"}),\"\\n\",e(r.li,{children:\"Summarization\"}),\"\\n\",e(r.li,{children:\"Translation\"}),\"\\n\",e(r.li,{children:\"Causal language modeling pretraining (like GPT-2)\"}),\"\\n\",e(r.li,{children:\"Question answering\"}),\"\\n\"]}),\"\\n\",e(r.p,{children:\"it is good chance to know an information about each task!\"}),\"\\n\",e(r.p,{children:\"In the introduction, there is short sentence about Trainer API:\"}),\"\\n\",n(r.blockquote,{children:[\"\\n\",e(r.p,{children:\"the Trainer API is great for fine-tuning or training your model without worrying about whatâ€™s going on behind the scenes, while the training loop with Accelerate will let you customize any part you want more easily.\"}),\"\\n\"]}),\"\\n\",e(r.h3,{children:\"Token classification\"}),\"\\n\",e(r.p,{children:'Token classification encompasses any problem that can be formulated as \"attributing a label to each token in a sentence\", such as:'}),\"\\n\",n(r.ul,{children:[\"\\n\",e(r.li,{children:\"Named entity recognition (NER): Find the entities (such as persons, locations or organizations) in a sentence.\"}),\"\\n\",e(r.li,{children:\"Part-of-speech tagging (POS): Mark each word in a sentence as corresponding to a particular part of speech (such as noun, verb, adjective, etc.)\"}),\"\\n\",e(r.li,{children:\"Chunking\"}),\"\\n\"]}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"from\"}),e(r.span,{style:{color:\"#24292E\"},children:\" datasets \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"import\"}),e(r.span,{style:{color:\"#24292E\"},children:\" load_dataset\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"raw_datasets \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" load_dataset(\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"conll2003\"'}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"raw_datasets\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#24292E\"},children:\" DatasetDict({\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        train: Dataset({\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"            features: [\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'chunk_tags'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'id'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'ner_tags'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'pos_tags'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'tokens'\"}),e(r.span,{style:{color:\"#24292E\"},children:\"],\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"            num_rows: \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"14041\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        })\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        validation: Dataset({\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"            features: [\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'chunk_tags'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'id'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'ner_tags'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'pos_tags'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'tokens'\"}),e(r.span,{style:{color:\"#24292E\"},children:\"],\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"            num_rows: \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"3250\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        })\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        test: Dataset({\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"            features: [\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'chunk_tags'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'id'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'ner_tags'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'pos_tags'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'tokens'\"}),e(r.span,{style:{color:\"#24292E\"},children:\"],\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"            num_rows: \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"3453\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"        })\"})}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"    })\"})})]})})}),\"\\n\",e(r.p,{children:\"Let's have a look at the first element of the training set:\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"raw_datasets[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"train\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"][\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),e(r.span,{style:{color:\"#24292E\"},children:\"][\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"tokens\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#24292E\"},children:\" [\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'EU'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'rejects'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'German'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'call'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'to'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'boycott'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'British'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'lamb'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'.'\"}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]})]})})}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"raw_datasets[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"train\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"][\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),e(r.span,{style:{color:\"#24292E\"},children:\"][\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"ner_tags\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#24292E\"},children:\" [\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"3\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"7\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"7\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]})]})})}),\"\\n\",e(r.p,{children:\"what are these numbers?\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"ner_feature \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" raw_datasets[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"train\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"].features[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"ner_tags\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#24292E\"},children:\"ner_feature\"})}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#24292E\"},children:\" Sequence(\"}),e(r.span,{style:{color:\"#E36209\"},children:\"feature\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"ClassLabel(\"}),e(r.span,{style:{color:\"#E36209\"},children:\"num_classes\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"9\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#E36209\"},children:\"names\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\"[\"}),e(r.span,{style:{color:\"#032F62\"},children:\"'O'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'B-PER'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'I-PER'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'B-ORG'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'I-ORG'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'B-LOC'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'I-LOC'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'B-MISC'\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#032F62\"},children:\"'I-MISC'\"}),e(r.span,{style:{color:\"#24292E\"},children:\"], \"}),e(r.span,{style:{color:\"#E36209\"},children:\"names_file\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"None\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#E36209\"},children:\"id\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"None\"}),e(r.span,{style:{color:\"#24292E\"},children:\"), \"}),e(r.span,{style:{color:\"#E36209\"},children:\"length\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=-\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"1\"}),e(r.span,{style:{color:\"#24292E\"},children:\", \"}),e(r.span,{style:{color:\"#E36209\"},children:\"id\"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"None\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]})]})})}),\"\\n\",e(r.p,{children:\"They are classes.\"}),\"\\n\",n(r.blockquote,{children:[\"\\n\",e(r.p,{children:\"We already saw these labels when digging into the token-classification pipeline in Chapter 6, but for a quick refresher:\"}),\"\\n\",n(r.ul,{children:[\"\\n\",e(r.li,{children:\"O means the word doesnâ€™t correspond to any entity.\"}),\"\\n\",e(r.li,{children:\"B-PER/I-PER means the word corresponds to the beginning of/is inside a person entity.\"}),\"\\n\",e(r.li,{children:\"B-ORG/I-ORG means the word corresponds to the beginning of/is inside an organization entity.\"}),\"\\n\",e(r.li,{children:\"B-LOC/I-LOC means the word corresponds to the beginning of/is inside a location entity.\"}),\"\\n\",e(r.li,{children:\"B-MISC/I-MISC means the word corresponds to the beginning of/is inside a miscellaneous entity.\"}),\"\\n\"]}),\"\\n\"]}),\"\\n\",e(r.p,{children:\"Check them more visible output:\"}),\"\\n\",e(l,{children:e(r.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(r.code,{children:[n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"words \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" raw_datasets[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"train\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"][\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),e(r.span,{style:{color:\"#24292E\"},children:\"][\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"tokens\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"labels \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" raw_datasets[\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"train\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"][\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"0\"}),e(r.span,{style:{color:\"#24292E\"},children:\"][\"}),e(r.span,{style:{color:\"#032F62\"},children:'\"ner_tags\"'}),e(r.span,{style:{color:\"#24292E\"},children:\"]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"line1 \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#032F62\"},children:' \"\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"line2 \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#032F62\"},children:' \"\"'})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\"for\"}),e(r.span,{style:{color:\"#24292E\"},children:\" word, label \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"in\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" zip\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(words, labels):\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    full_label \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" label_names[label]\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    max_length \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"=\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" max\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(\"}),e(r.span,{style:{color:\"#005CC5\"},children:\"len\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(word), \"}),e(r.span,{style:{color:\"#005CC5\"},children:\"len\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(full_label))\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    line1 \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"+=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" word \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"+\"}),e(r.span,{style:{color:\"#032F62\"},children:' \" \"'}),e(r.span,{style:{color:\"#D73A49\"},children:\" *\"}),e(r.span,{style:{color:\"#24292E\"},children:\" (max_length \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"-\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" len\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(word) \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"+\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" 1\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#24292E\"},children:\"    line2 \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"+=\"}),e(r.span,{style:{color:\"#24292E\"},children:\" full_label \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"+\"}),e(r.span,{style:{color:\"#032F62\"},children:' \" \"'}),e(r.span,{style:{color:\"#D73A49\"},children:\" *\"}),e(r.span,{style:{color:\"#24292E\"},children:\" (max_length \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"-\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" len\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(full_label) \"}),e(r.span,{style:{color:\"#D73A49\"},children:\"+\"}),e(r.span,{style:{color:\"#005CC5\"},children:\" 1\"}),e(r.span,{style:{color:\"#24292E\"},children:\")\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#005CC5\"},children:\"print\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(line1)\"})]}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#005CC5\"},children:\"print\"}),e(r.span,{style:{color:\"#24292E\"},children:\"(line2)\"})]}),\"\\n\",e(r.span,{className:\"line\"}),\"\\n\",n(r.span,{className:\"line\",children:[e(r.span,{style:{color:\"#D73A49\"},children:\">>>\"}),e(r.span,{style:{color:\"#032F62\"},children:\" 'EU    rejects German call to boycott British lamb .'\"})]}),\"\\n\",e(r.span,{className:\"line\",children:e(r.span,{style:{color:\"#032F62\"},children:\"    'B-ORG O       B-MISC O    O  O       B-MISC  O    O'\"})})]})})}),\"\\n\",e(r.p,{children:\"The following content is all related to the training and evaluation of Tokenizers, and since it's more of a guide on how to use the Huggingface library, it will be omitted.\"}),\"\\n\",e(r.hr,{}),\"\\n\",e(r.h2,{children:\"Reference\"}),\"\\n\",e(r.p,{children:e(r.a,{href:\"https://huggingface.co/learn/llm-course/chapter6/1?fw=pt\",children:\"https://huggingface.co/learn/llm-course/chapter6/1?fw=pt\"})})]})}return{default:function(l={}){const{wrapper:n}=l.components||{};return n?e(n,{...l,children:e(_createMdxContent,{...l})}):_createMdxContent(l)}};",
    "permalink": "/study/development/huggingface-4"
  },
  {
    "title": "Next.js ì•± CI/CD êµ¬ì¶•í•˜ê¸°",
    "description": "Github Actionsì™€ AWS CodeDeployë¥¼ ì´ìš©í•´ CI/CDë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤.",
    "slug": "setup-ci-cd-with-codedeploy-github-actions",
    "publishDate": "2025-03-03",
    "thumbnailUrl": "/study/development/setup-ci-cd-with-codedeploy-github-actions/1.png",
    "content": "const{Fragment:l,jsx:n,jsxs:e}=arguments[0];function _createMdxContent(s){const c={a:\"a\",code:\"code\",h3:\"h3\",h5:\"h5\",hr:\"hr\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...s.components};return e(l,{children:[n(c.p,{children:\"ìˆ˜ì • ì‚¬í•­ì´ ìˆì„ ë•Œë§ˆë‹¤ ë§¤ë²ˆ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ë“¤ì–´ê°€ ë ˆí¬ì§€í† ë¦¬ë¥¼ í´ë¡ í•˜ê³  ë¹Œë“œí•˜ëŠ” ê±´ ë²ˆê±°ë¡œìš´ ê³¼ì •ì´ë‹¤. ê·¸ë˜ì„œ ë°°í¬ë¥¼ ìë™í™”í•´ ì£¼ëŠ” ì‘ì—…ì„ í†µí•´ ìˆ˜ê³ ë¡œì›€ì„ ëœ ìˆ˜ ìˆë‹¤. í”íˆ CI/CDë¡œ ë¶€ë¥´ëŠ”ë° ìš©ì–´ê°€ ë­”ì§€ ê°„ë‹¨í•˜ê²Œ ì‚´í´ë³´ì.\"}),\"\\n\",n(c.p,{children:\"Continuous Integration\"}),\"\\n\",e(c.ul,{children:[\"\\n\",n(c.li,{children:\"ì½”ë“œì˜ ë³€ê²½ì‚¬í•­ì„ í•©ì³ì„œ ë¹Œë“œí•˜ê³  í…ŒìŠ¤íŠ¸í•˜ëŠ” ê³¼ì •ì„ ë§í•œë‹¤. ìˆ˜ì • ì‚¬í•­ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í„°ì¹œë‹¤ë©´ CIì—ì„œ ë§‰íˆëŠ” ì…ˆì´ë‹¤.\"}),\"\\n\"]}),\"\\n\",n(c.p,{children:\"Continuous Delivery & Deployment\"}),\"\\n\",e(c.ul,{children:[\"\\n\",n(c.li,{children:\"CI ë‹¨ê³„ë¥¼ í†µê³¼í•œ ìˆ˜ì • ì‚¬í•­ì„ ë°°í¬í•œë‹¤. ìµœì¢… ë°°í¬ë¥¼ ìˆ˜ë™ìœ¼ë¡œ íŠ¸ë¦¬ê±°í•˜ë©´ Delivery, ìë™ìœ¼ë¡œ í•˜ë©´ Deploymentë¼ ë¶€ë¥¸ë‹¤.\"}),\"\\n\"]}),\"\\n\",n(c.p,{children:\"CI/CDëŠ” ë‹¤ìŒê³¼ ê°™ì€ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ êµ¬ì„±ëœë‹¤.\"}),\"\\n\",e(c.ol,{children:[\"\\n\",n(c.li,{children:\"ì½”ë“œ ë³€ê²½\"}),\"\\n\",n(c.li,{children:\"ë¹Œë“œ\"}),\"\\n\",n(c.li,{children:\"í…ŒìŠ¤íŠ¸\"}),\"\\n\",n(c.li,{children:\"ë°°í¬ ì¤€ë¹„\"}),\"\\n\",n(c.li,{children:\"ë°°í¬\"}),\"\\n\"]}),\"\\n\",n(c.p,{children:\"ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ìœ„ íŒŒì´í”„ë¼ì¸ ì‘ì—…ë“¤ì„ ìë™í™”í•  ê²ƒì´ë‹¤. ë‚´ í”„ë¡œì íŠ¸ëŠ” Bunì„ ì´ìš©í•´ ì§„í–‰í•˜ë¯€ë¡œ npmì´ë‚˜ yarn íŒ¨í‚¤ì§€ ê´€ë¦¬ë¥¼ ì“°ê³  ëŸ°íƒ€ì„ í™˜ê²½ì„ node.jsë¡œ ì“´ë‹¤ë©´ ì ì ˆí•˜ê²Œ ë°”ê¿”ì¤˜ì•¼ í•œë‹¤!\"}),\"\\n\",n(c.hr,{}),\"\\n\",n(c.h3,{children:\"YAML\"}),\"\\n\",n(c.p,{children:\"YAMLì€ JSONì˜ ìƒìœ„ í˜¸í™˜ ë¬¸ë²•ìœ¼ë¡œ ë³´í†µ configuration ì‘ì—…ì— ë§ì´ ì“°ì¸ë‹¤. ìë™ ë°°í¬ë¥¼ ìœ„í•´ ì„¤ì •í•´ ì£¼ëŠ” ë°ì´í„° íŒŒì¼ë„ ì „ë¶€ YAML ë¬¸ë²•ìœ¼ë¡œ ì“°ì¸ë‹¤. ê°„ë‹¨í•˜ê²Œ YAML ë¬¸ë²•ì— ëŒ€í•´ ì†Œê°œí•˜ìë©´...\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# ì£¼ì„ì„ ì§€ì›í•œë‹¤!\"})}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# '', \\\"\\\" ëª¨ë‘ ì§€ì›í•œë‹¤. \\\\nê°™ì€ ì´ìŠ¤ì¼€ì´í”„ ë¬¸ìë‚˜ :ê°™ì€ yaml ë¬¸ë²•ì— ì“°ì´ëŠ” ê¸°í˜¸ë¥¼ ì“¸ ë• quoteë¡œ ê°ì‹¸ì•¼ í•œë‹¤.\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# í”„ë¡œí¼í‹° ì´ë¦„ì— ë„ì–´ì“°ê¸°ë„ ê°€ëŠ¥í•˜ë‹¤.\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"example:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" 'with quotes'\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"example:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" without\"}),n(c.span,{style:{color:\"#032F62\"},children:\" quotes\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# >, | ë¥¼ ì‚¬ìš©í•´ ê¸´ ë¬¸ì¥ì„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤. >ëŠ” space, |ëŠ” \\\\n ì—­í• ì´ë‹¤.\"})}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"í•œê¸€ë„:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" ì§€ì›í•œë‹¤ëŠ”\"}),n(c.span,{style:{color:\"#032F62\"},children:\" ì‚¬ì‹¤\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# nullì„ ì‚¬ìš© ê°€ëŠ¥í•˜ë©°, ~ ê¸°í˜¸ë¡œ ë‹¨ì¶• í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"null\"}),n(c.span,{style:{color:\"#032F62\"},children:\" value:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" null\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"null\"}),n(c.span,{style:{color:\"#032F62\"},children:\" shorthand:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" ~\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# ë°°ì—´ì€ - ë¡œ êµ¬ë¶„í•œë‹¤.\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6F42C1\"},children:\"array:\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"    -\"}),n(c.span,{style:{color:\"#032F62\"},children:\" apple\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"    -\"}),n(c.span,{style:{color:\"#032F62\"},children:\" banana\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"    -\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" 12345\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"    -\"}),n(c.span,{style:{color:\"#032F62\"},children:\" a:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" b\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# json ìŠ¤íƒ€ì¼ë„ ê°€ëŠ¥í•˜ë‹¤. ê·¸ëŸ¬ë‚˜ jsonì˜ ë°°ì—´ ê¸°ëŠ¥ì„ ë³´ì™„í•˜ëŠ”ë° ìˆì–´ yamlì˜ ì¥ì ì´ ìˆë‹¤ëŠ” ì‚¬ì‹¤.\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# ë”°ì˜´í‘œë‚˜ ì‰¼í‘œë¥¼ ì“°ì§€ ì•Šê¸° ìœ„í•´ yamlì´ í•˜ì´í”ˆì„ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ìœ„ì²˜ëŸ¼ ì‚¬ìš©í•˜ì.\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"json\"}),n(c.span,{style:{color:\"#032F62\"},children:\" style\"}),n(c.span,{style:{color:\"#032F62\"},children:\" array:\"}),n(c.span,{style:{color:\"#24292E\"},children:\" [\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6F42C1\"},children:\"    apple,\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"    'banana'\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\",\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6F42C1\"},children:\"    12345,\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"    a:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" b,\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"]\"})}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# ê°ì²´ëŠ” ë“¤ì—¬ì“°ê¸°ì™€ :ë¡œ êµ¬ë¶„\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6F42C1\"},children:\"object:\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"    name:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" namu\"}),n(c.span,{style:{color:\"#032F62\"},children:\" wiki\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"    type\"}),n(c.span,{style:{color:\"#032F62\"},children:\":\"}),n(c.span,{style:{color:\"#032F62\"},children:\" dictionary\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"    primary\"}),n(c.span,{style:{color:\"#032F62\"},children:\" color:\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6F42C1\"},children:\"        gradient:\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"            start:\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" 0x00A495\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"            end: 0x13AD65\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"        header:\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" 0x008275\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# ë§ˆì°¬ê°€ì§€ë¡œ ë”°ì˜´í‘œì™€ ì‰¼í‘œ, ì¤‘ê´„í˜¸ê°™ì€ ë‚­ë¹„ë¥¼ ì—†ì• ê¸° ìœ„í•´ yamlì´ ìˆìœ¼ë‹ˆ ìœ„ì²˜ëŸ¼ ì“°ë„ë¡ í•˜ì.\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"json\"}),n(c.span,{style:{color:\"#032F62\"},children:\" style\"}),n(c.span,{style:{color:\"#032F62\"},children:\" object:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" {\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"    name:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" namu\"}),n(c.span,{style:{color:\"#032F62\"},children:\" wiki,\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:'    \"type\"'}),n(c.span,{style:{color:\"#005CC5\"},children:\":\"}),n(c.span,{style:{color:\"#032F62\"},children:' \"dictionary\",'})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"}\"})}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"implicit\"}),n(c.span,{style:{color:\"#032F62\"},children:\" null:\"}),n(c.span,{style:{color:\"#6A737D\"},children:\" # ì´ëŸ¬ë©´ ì•”ë¬µì ìœ¼ë¡œ nullì´ ë“¤ì–´ê°„ë‹¤.\"})]})]})})}),\"\\n\",n(c.p,{children:\"ì´ ì™¸ì—ëŠ” ê³µì‹ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ë©´ ëœë‹¤! ì•„ë‹ˆë©´ ë‚˜ë¬´ìœ„í‚¤ì—ë„ ì˜ ì„¤ëª… ë˜ì–´ìˆìœ¼ë‹ˆ ì°¸ê³ í•˜ê¸¸...\"}),\"\\n\",n(c.hr,{}),\"\\n\",n(c.h3,{children:\"GitHub Actions\"}),\"\\n\",e(c.p,{children:[\"GitHub ActionsëŠ” CI/CDë¥¼ ë„ì™€ì£¼ëŠ” ë„êµ¬ë‹¤. ì–´ë–¤ ì‹ìœ¼ë¡œ ì“°ëŠ”ì§€ \",n(c.a,{href:\"https://docs.github.com/ko/actions/writing-workflows/quickstart\",children:\"https://docs.github.com/ko/actions/writing-workflows/quickstart\"}),\" ë¥¼ ë”°ë¼ í•˜ë©´ ë°”ë¡œ ëŠë‚Œì´ ì˜¨ë‹¤!\"]}),\"\\n\",e(c.p,{children:[\"GitHub Actionsì™€ YAMLì— ëŒ€í•´ ì‘ì„±í•œ ê¸€ì´ ìˆìœ¼ë‹ˆ ê¶ê¸ˆí•˜ë©´ ë³´ì‹œê¸¸~ (\",n(c.a,{href:\"https://hyeokrani.tistory.com/117\",children:\"https://hyeokrani.tistory.com/117\"}),\")\"]}),\"\\n\",n(c.p,{children:\"í•œ ë²ˆ CIë¥¼ ìœ„í•œ íŒŒì¼ì„ ë§Œë“¤ê³  ë ˆí¬ì§€í† ë¦¬ì— push í•´ë³´ì.\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"ci\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"on\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"  pull_request\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"    branches\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#032F62\"},children:\"main\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"  push\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"    branches\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#032F62\"},children:\"main\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"jobs\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"  ci\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"    runs-on\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"ubuntu-latest\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"    steps\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"uses\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"actions/checkout@v4\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"Setup Bun\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"        run\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#032F62\"},children:\"          curl -fsSL https://bun.sh/install | bash\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#032F62\"},children:'          echo \"BUN_INSTALL=$HOME/.bun\" >> $GITHUB_ENV'})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#032F62\"},children:'          echo \"PATH=$HOME/.bun/bin:$PATH\" >> $GITHUB_ENV'})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"Install dependencies\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"        run\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"bun install\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"Check\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"        run\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"bun check\"})]})]})})}),\"\\n\",n(c.p,{children:\"ì´ workflowëŠ” main ë¸Œëœì¹˜ë¡œì˜ pushë‚˜ PRì— ì‘ë™í•œë‹¤. ì–´ë–¤ ì‘ì—…ë“¤ì´ ì‹œí–‰ë˜ëŠ”ì§€ ë³´ë©´,\"}),\"\\n\",e(c.ol,{children:[\"\\n\",n(c.li,{children:\"ë ˆí¬ì§€í† ë¦¬ë¥¼ í´ë¡  í•œë‹¤.\"}),\"\\n\",n(c.li,{children:\"Bunì„ ì„¤ì¹˜í•œë‹¤.\"}),\"\\n\",n(c.li,{children:\"Bunìœ¼ë¡œ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•œë‹¤.\"}),\"\\n\",n(c.li,{children:\"ì½”ë“œë¥¼ ê²€ì‚¬í•œë‹¤.\"}),\"\\n\"]}),\"\\n\",n(c.p,{children:\"ìœ„ ê³¼ì •ì´ ì˜ ì¼ì–´ë‚˜ëŠ”ì§€ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•´ PRì„ ì˜¬ë ¤ë³´ì.\"}),\"\\n\",e(c.p,{children:[n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/1.png\",alt:\"\"}),\"\\n\",n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/2.png\",alt:\"\"})]}),\"\\n\",n(c.p,{children:\"workflowê°€ ì˜ ì‘ë™í–ˆê³ , ì½”ë“œ ê²€ì‚¬ë„ ì„±ê³µì ìœ¼ë¡œ ì˜ ëë‚œ ê±¸ ë³¼ ìˆ˜ ìˆë‹¤.\\nì´ì œ ì•ìœ¼ë¡œ main ë¸Œëœì¹˜ì— PRë¡œ ì˜¬ë ¤ì£¼ë©´ CI ì„±ê³µ ì—¬ë¶€ë¥¼ ë³´ê³  í•©ì¹  ìˆ˜ ìˆë‹¤.\"}),\"\\n\",n(c.hr,{}),\"\\n\",n(c.p,{children:\"ìˆ˜ì •í•œ ì½”ë“œê°€ ê¸°ì¡´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í„°ì¹  ê°€ëŠ¥ì„±ì„ í™•ì¸í–ˆìœ¼ë‹ˆ, ì´ì œ ìˆ˜ì •ëœ ì½”ë“œë¥¼ ì¸ìŠ¤í„´ìŠ¤ì— ì˜¬ë ¤ ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ìë™í™”í•˜ë©´ ëœë‹¤.\"}),\"\\n\",n(c.p,{children:\"ìë™ ë°°í¬ì˜ íŒŒì´í”„ë¼ì¸ì€ ì–´ë–»ê²Œ ë ê¹Œ?\"}),\"\\n\",e(c.p,{children:[n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/3.png\",alt:\"\"}),\"\\nì²« ì‹œì‘ì€ GitHub repositoryì˜ main ë¸Œëœì¹˜ì— ë³€ê²½ì‚¬í•­ì´ ìƒê¸°ë©´ GitHub Actionsë¥¼ íŠ¸ë¦¬ê±°í•˜ë„ë¡ ì„¤ì •í•œë‹¤.\"]}),\"\\n\",n(c.p,{children:\"ì´í›„ GitHub ActionsëŠ”\"}),\"\\n\",e(c.ol,{children:[\"\\n\",n(c.li,{children:\"í”„ë¡œì íŠ¸ íŒŒì¼ì„ ë¹Œë“œí•˜ê³ \"}),\"\\n\",n(c.li,{children:\"ë¹Œë“œ íŒŒì¼ì„ ì••ì¶• í›„ S3 Bucketì— ì—…ë¡œë“œí•œ ë’¤\"}),\"\\n\",n(c.li,{children:\"CodeDeployê°€ ì •í•´ì§„ ë™ì‘ì„ í•˜ë„ë¡ íŠ¸ë¦¬ê±°í•œë‹¤.\"}),\"\\n\"]}),\"\\n\",n(c.p,{children:\"CodeDeployëŠ” EC2 instance ë‚´ì— Code Deploy Agentë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´\"}),\"\\n\",e(c.ol,{children:[\"\\n\",n(c.li,{children:\"S3ì— ì˜¬ë¼ì˜¨ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ê³ \"}),\"\\n\",n(c.li,{children:\"ì••ì¶•ì„ í•´ì œí•´ í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ì„¤ì¹˜í•œ ë’¤\"}),\"\\n\",n(c.li,{children:\"ì •í•´ì§„ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤.\"}),\"\\n\"]}),\"\\n\",n(c.p,{children:\"ì´ë•Œ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì„¤ì¹˜ ì „ í›„ë¡œ ì •ì˜í•´ ì¤„ ìˆ˜ ìˆìŒ!\"}),\"\\n\",n(c.p,{children:\"ì—¬ê¸°ì„œ ìƒê¸°ëŠ” ê¶ê¸ˆì ì´ ë‘ ê°œ ìˆë‹¤.\"}),\"\\n\",n(c.p,{children:\"Q1. ì™œ ì˜ì¡´ì„± ì„¤ì¹˜ë¶€í„° ë¹Œë“œí•˜ëŠ” ê³¼ì •ì„ EC2 ì¸ìŠ¤í„´ìŠ¤ê°€ ì§ì ‘ í•˜ì§€ ì•Šê³ , GitHub Actionsì˜ ê°€ìƒ ë¨¸ì‹ ì—ì„œ ì‹¤í–‰í• ê¹Œ?\\nQ2. ë¹Œë“œí•œ íŒŒì¼ì„ ì••ì¶•í•œ ë’¤ ê³§ì¥ EC2 ì¸ìŠ¤í„´ìŠ¤ë¡œ ë³´ë‚´ì§€ ì•Šê³ , S3ë¡œ ì˜¬ë¦¬ëŠ” ì´ìœ ê°€ ë­˜ê¹Œ?\"}),\"\\n\",n(c.p,{children:\"Q1ë²ˆì— ëŒ€í•´ì„œ AIì—ê²Œ ì–»ì–´ë‚¸ ë‹µì€ ì´ë ‡ë‹¤. (í‹€ë¦° ê²Œ ìˆë‹¤ë©´ ì§€ì í•´ ì£¼ì„¸ìš”!)\"}),\"\\n\",n(c.p,{children:\"A1-1) ì˜ì¡´ì„± ì„¤ì¹˜ ë° ë¹Œë“œ ê³¼ì •ì„ GitHub Actions runnerì˜ í†µì¼ëœ í™˜ê²½ì—ì„œ ì‹¤í–‰í•´ ì¼ê´€ì„±ì„ ë†’ì¸ë‹¤. ë¡œì»¬ì´ë‚˜ ì„œë²„ í™˜ê²½ì€ ìƒí™©ë§ˆë‹¤ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ! (ëŒ€ì‹  ì´ê±´ ë„ì»¤ë¥¼ í™œìš©í•˜ë©´ í›¨ì”¬ ì¢‹ì„ ë“¯)\\nA1-2) ìš°ë¦¬ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì„œë²„ ì—…ë¬´ìš©! ì„œë²„ ëŒë¦¬ëŠ” ë° ì“°ì´ëŠ” ë©”ëª¨ë¦¬ë¥¼ êµ³ì´ ë ˆí¬ì§€í† ë¦¬ í´ë¡ í•˜ê³  í”„ë¡œì íŠ¸ ë¹Œë“œí•˜ëŠ” ë° ì“¸ ì´ìœ ê°€ ì—†ë‹¤. ì„œë²„ìš© ì»´í“¨í„°ëŠ” ì„œë²„ ì—…ë¬´ì—ë§Œ ì§‘ì¤‘í•˜ê²Œ í•´ì„œ ë©”ëª¨ë¦¬ ë¶€ë‹´ë„ ì¤„ì´ê³ , ê´€ë¦¬ ì¸¡ë©´ì—ì„œë„ ì±…ì„ ì†Œì¬ë¥¼ í™•ì‹¤íˆ í•˜ì. (ê·¸ë¦¬ê³  ìš°ë¦¬ì˜ ê³„ì •ì€ í”„ë¦¬í‹°ì–´! ì•„ê¸°ìê¸°í•œ ë©”ëª¨ë¦¬ì™€ CPUë¥¼ ìœ„í•´ì„œ ìµœëŒ€í•œ ë¶€ë‹´ì„ ì¤„ì—¬ì•¼ í•œë‹¤.)\"}),\"\\n\",n(c.p,{children:\"Q2ë²ˆì— ëŒ€í•´ì„œ ìš°ì„  ì••ì¶• íŒŒì¼ì„ ë³´ë‚´ëŠ” ì´ìœ ëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ë„¤íŠ¸ì›Œí¬ ë¶€í•˜ë¥¼ ì¤„ì´ê¸° ìœ„í•¨ë„ ìˆì§€ë§Œ, ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì••ì¶• ì•Œê³ ë¦¬ì¦˜ì´ íš¨ìœ¨ì ì´ê¸° ë•Œë¬¸ì´ë‹¤. ì••ì¶•ê³¼ í•´ì œì— ì†Œìš”ë˜ëŠ” ì‘ì—… ì‹œê°„ê³¼ ë¶€í•˜ê°€ ìƒ íŒŒì¼ì„ ë„¤íŠ¸ì›Œí¬ë¡œ ì „ì†¡í•˜ëŠ” ê²ƒë³´ë‹¤ ë” ë‚«ë‹¤!\"}),\"\\n\",n(c.p,{children:\"A2-1) ë¹Œë“œëœ ë°°í¬ íŒŒì¼(Artifact)ì„ ê°œì¸ì ì¸ ê³µê°„ì¸ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ê´€ë¦¬í•˜ê¸°ë³´ë‹¤, ì¤‘ì•™í™”ëœ ì €ì¥ì†Œì¸ S3 Bucketì— ë†“ì•„ ê´€ë¦¬ë¥¼ ìš©ì´í•˜ê²Œ í•œë‹¤. ì¼ê´€ì„±ì´ë‚˜ ì¬ì‚¬ìš©ì„±, ì‹¤íŒ¨ ì‹œ ë³µêµ¬ ë“±ì„ í›¨ì”¬ ì•ˆì •ì ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. (ì¤‘ìš”í•œ íŒŒì¼ì„ í•˜ë“œë””ìŠ¤í¬ì— ì €ì¥í•˜ëŠ” ê²ƒì²˜ëŸ¼!)\\nA2-2) ë¹Œë“œì™€ ë°°í¬ ë‹¨ê³„ë¥¼ ë¶„ë¦¬í•œë‹¤. ì¤‘ê°„ì— S3ë¥¼ ë‘ê³  ì—…ë¡œë“œ ì „ê¹Œì§€ëŠ” ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ ê³¼ì •, ì—…ë¡œë“œ í›„ì—ëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ê°€ ì‹¤í–‰í•˜ëŠ” ë°°í¬ ê³¼ì •ìœ¼ë¡œ ëª…í™•íˆ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\"}),\"\\n\",n(c.p,{children:\"ì´ì œ ì´ìœ ë¥¼ ì•Œì•˜ìœ¼ë‹ˆ ì‹¤í–‰í•˜ëŸ¬ ê°€ë³´ì!\"}),\"\\n\",n(c.hr,{}),\"\\n\",n(c.h3,{children:\"1. Bucket ìƒì„± ë° GitHub Actionsê°€ ì‚¬ìš©í•  IAM ê³„ì • ìƒì„±\"}),\"\\n\",n(c.p,{children:\"ìš°ì„  ì••ì¶•í•œ ë¹Œë“œ íŒŒì¼ì„ ì˜¬ë¦´ bucketì„ ìƒì„±í•˜ì.\"}),\"\\n\",n(c.p,{children:n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/4.png\",alt:\"\"})}),\"\\n\",n(c.p,{children:\"rookie-review-ci-cdë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤.\"}),\"\\n\",n(c.p,{children:\"ê·¸ë¦¬ê³  GitHub Actionsê°€ ì‚¬ìš©í•  IAM ê³„ì •ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤. ì´ ê³„ì •ì€ S3ì™€ CodeDeployì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ìˆì–´ì•¼ í•œë‹¤.\"}),\"\\n\",n(c.p,{children:n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/5.png\",alt:\"\"})}),\"\\n\",n(c.p,{children:\"AmazonS3FullAccess, AWSCodeDeployFullAccess ë‘ ì •ì±…ì„ í• ë‹¹í•œ ë’¤, GitHub Actionsê°€ ì´ ê³„ì •ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ Access keyë¥¼ ë°œê¸‰ë°›ì.\"}),\"\\n\",n(c.p,{children:\"ì–´ë–¤ ë¸”ë¡œê·¸ì—ì„œëŠ” EC2ì—ë„ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì •ì±…ì„ í• ë‹¹í–ˆëŠ”ë°, GitHub ActionsëŠ” ì§ì ‘ì ìœ¼ë¡œ EC2ì— ì ‘ê·¼í•˜ì§€ ì•ŠëŠ”ë‹¤. EC2ì—ëŠ” CodeDeployê°€ ì ‘ê·¼í•˜ë¯€ë¡œ ì´ ê³„ì •ì—ëŠ” CodeDeployì— ëŒ€í•œ ì •ì±…ë§Œ í• ë‹¹í•´ ì£¼ë©´ ëœë‹¤.\"}),\"\\n\",n(c.p,{children:\"ì´í›„ GitHub ë ˆí¬ì§€í† ë¦¬ì˜ Setting > Secrets and variables > Actionsë¡œ ì´ë™í•´ Access keyë¥¼ Repository Secretsì„ ë“±ë¡í•˜ì.\"}),\"\\n\",n(c.p,{children:n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/6.png\",alt:\"\"})}),\"\\n\",n(c.hr,{}),\"\\n\",n(c.h3,{children:\"2. EC2ì™€ CodeDeployì— í• ë‹¹í•  ì—­í•  ìƒì„±\"}),\"\\n\",n(c.p,{children:\"EC2ì™€ CodeDeployê°€ AWS ë‚´ì—ì„œ í™œë™í•˜ê¸° ìœ„í•´ ì •ì±…ì„ í• ë‹¹ë°›ì•„ì•¼ í•œë‹¤. ì •ì±…ë“¤ì„ ëª¨ì•„ë†“ì€ ì—­í• ì„ ë§Œë“¤ì–´ ì§€ì •í•´ ì£¼ë©´ ëœë‹¤.\"}),\"\\n\",n(c.p,{children:\"EC2ëŠ” ì–´ë–¤ ì •ì±…ì´ í•„ìš”í• ê¹Œ?\"}),\"\\n\",e(c.ol,{children:[\"\\n\",n(c.li,{children:\"S3ì— ì—…ë¡œë“œëœ ì•„í‹°íŒ©íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì•„ì•¼ í•œë‹¤. -> AmazonS3ReadOnlyAccess\"}),\"\\n\",n(c.li,{children:\"EC2 ì¸ìŠ¤í„´ìŠ¤ì—ì„œ CodeDeploy Agentê°€ ì‘ë™í•  ë•Œ í•„ìš”í•œ ê¶Œí•œì´ ìˆì–´ì•¼ í•œë‹¤. -> AmazonEC2RoleforAWSCodeDeploy\"}),\"\\n\"]}),\"\\n\",e(c.p,{children:[n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/7.png\",alt:\"\"}),\"\\n\",n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/8.png\",alt:\"\"})]}),\"\\n\",n(c.p,{children:\"ê·¸ë¦¬ê³  CodeDeployì— í•„ìš”í•œ ì—­í• ë„ ë§Œë“¤ì–´ì£¼ì.\"}),\"\\n\",n(c.p,{children:n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/9.png\",alt:\"\"})}),\"\\n\",n(c.p,{children:\"ì–˜ëŠ” ìš”ê±° í•˜ë‚˜ë§Œ ìˆìœ¼ë©´ ëœë‹¤.\"}),\"\\n\",n(c.hr,{}),\"\\n\",e(c.ol,{start:\"3\",children:[\"\\n\",n(c.li,{children:\"CodeDeploy ì• í”Œë¦¬ì¼€ì´ì…˜ ë° ë°°í¬ ê·¸ë£¹ ìƒì„±\"}),\"\\n\"]}),\"\\n\",e(c.p,{children:[\"CodeDeployì— ë“¤ì–´ê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒì„±í•˜ì.\\n\",n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/10.png\",alt:\"\"})]}),\"\\n\",n(c.p,{children:\"CodeDeplooyë¥¼ ì´ìš©í•´ EC2ì— ë°°í¬í•  ê²ƒì´ë¯€ë¡œ EC2/On-premisesë¡œ í”Œë«í¼ì„ ì§€ì •í•˜ì.\"}),\"\\n\",n(c.p,{children:\"ë°°í¬ ê·¸ë£¹ì„ ìƒì„±í•˜ì.\"}),\"\\n\",e(c.p,{children:[n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/11.png\",alt:\"\"}),\"\\n\",n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/12.png\",alt:\"\"}),\"\\n\",n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/13.png\",alt:\"\"})]}),\"\\n\",n(c.p,{children:\"ê·¸ë£¹ì— ì•„ê¹Œ ìƒì„±í•œ ì—­í• ì„ ì§€ì •í•´ ì£¼ê³ , ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì—°ê²°í•´ ì£¼ì. ë¡œë“œ ë°¸ëŸ°ì„œëŠ” ìš°ì„  ì²´í¬ í•´ì œí•´ ì£¼ì! (ë¹„ìš© ì ˆê°)\"}),\"\\n\",n(c.p,{children:\"ì´í›„ GitHub Actionsì— í•„ìš”í•œ ì‚¬í•­ë“¤ì„ secretsì— ë“±ë¡í•´ ì£¼ì.\"}),\"\\n\",n(c.p,{children:n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/14.png\",alt:\"\"})}),\"\\n\",n(c.hr,{}),\"\\n\",n(c.h3,{children:\"4. EC2 ì¸ìŠ¤í„´ìŠ¤ì— CodeDeploy Agent ì„¤ì¹˜\"}),\"\\n\",n(c.p,{children:\"ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•œ ë’¤ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì.\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),n(c.span,{style:{color:\"#032F62\"},children:\" apt\"}),n(c.span,{style:{color:\"#032F62\"},children:\" update\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),n(c.span,{style:{color:\"#032F62\"},children:\" apt\"}),n(c.span,{style:{color:\"#032F62\"},children:\" install\"}),n(c.span,{style:{color:\"#032F62\"},children:\" ruby-full\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),n(c.span,{style:{color:\"#032F62\"},children:\" apt\"}),n(c.span,{style:{color:\"#032F62\"},children:\" install\"}),n(c.span,{style:{color:\"#032F62\"},children:\" wget\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"cd\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /home/ubuntu\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"wget\"}),n(c.span,{style:{color:\"#032F62\"},children:\" https://aws-codedeploy-ap-northeast-2.s3.ap-northeast-2.amazonaws.com/latest/install\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"chmod\"}),n(c.span,{style:{color:\"#032F62\"},children:\" +x\"}),n(c.span,{style:{color:\"#032F62\"},children:\" ./install\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),n(c.span,{style:{color:\"#032F62\"},children:\" ./install\"}),n(c.span,{style:{color:\"#032F62\"},children:\" auto\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" >\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /tmp/logfile\"}),n(c.span,{style:{color:\"#24292E\"},children:\" (20.04 \"}),n(c.span,{style:{color:\"#032F62\"},children:\"ë²„ì „\"}),n(c.span,{style:{color:\"#24292E\"},children:\")\"})]})]})})}),\"\\n\",n(c.p,{children:\"CodeDeploy ì„¤ì¹˜ ë° ì‹¤í–‰ì„ ìœ„í•´ ruby-full, wgetì„ ì„¤ì¹˜í•´ì•¼ í•œë‹¤. ê·¸ì „ì— ë‘˜ì˜ íŒ¨í‚¤ì§€ ëª©ë¡ì„ ìµœì‹  ìƒíƒœë¡œ ì—…ë°ì´íŠ¸í•´ì¤€ë‹¤.\"}),\"\\n\",n(c.p,{children:\"ìµœì‹  ë²„ì „ì¸ ubuntu 20.04 ë²„ì „ì˜ ê²½ìš° ì¶œë ¥ ë¡œê·¸ ì €ì¥ ê²½ë¡œë¥¼ ì§€ì •í•˜ëŠ” > /tmp/logfile ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•˜ë¼ê³  ê³µì‹ ë¬¸ì„œì— ë‚˜ì™€ìˆë‹¤.\"}),\"\\n\",n(c.p,{children:\"ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(c.code,{children:e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),n(c.span,{style:{color:\"#032F62\"},children:\" service\"}),n(c.span,{style:{color:\"#032F62\"},children:\" codedeploy-agent\"}),n(c.span,{style:{color:\"#032F62\"},children:\" status\"})]})})})}),\"\\n\",n(c.p,{children:\"Active: active (running) -> ì •ìƒì ìœ¼ë¡œ CodeDeploy Agentê°€ ì‘ë™ ì¤‘ì— ìˆë‹¤!\"}),\"\\n\",n(c.hr,{}),\"\\n\",n(c.h3,{children:\"5. GitHub Actionsì™€ CodeDeploy ì„¤ì •í•˜ê¸°\"}),\"\\n\",n(c.p,{children:\"ì´ì œ GitHub Actionsê°€ ì‹¤í–‰í•´ ì¤„ ì‘ì—…ì„ ì •ì˜í•˜ì.\"}),\"\\n\",n(c.p,{children:\".github/workflows/deploy.yml\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"deploy to S3\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# main ë¸Œëœì¹˜ë¡œ push í•  ë•Œ workflow ì‹¤í–‰\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"on\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"  push\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"    branches\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#032F62\"},children:\"main\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"  workflow_dispatch\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"env\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"  S3_BUCKET_NAME\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"${{ secrets.S3_BUCKET_NAME }}\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"  CODE_DEPLOY_APPLICATION_NAME\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"${{ secrets.CODE_DEPLOY_APPLICATION_NAME }}\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"  CODE_DEPLOY_DEPLOYMENT_GROUP_NAME\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"${{ secrets.CODE_DEPLOY_DEPLOYMENT_GROUP_NAME }}\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"jobs\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"  build\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"    runs-on\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"ubuntu-latest\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"    steps\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"      # ë ˆí¬ì§€í† ë¦¬ clone\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"Checkout\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"        uses\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"actions/checkout@v4\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"      # Bun ì„¤ì¹˜ ë° ê´€ë ¨ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"Setup Bun\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"        run\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#032F62\"},children:\"          curl -fsSL https://bun.sh/install | bash\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#032F62\"},children:'          echo \"BUN_INSTALL=$HOME/.bun\" >> $GITHUB_ENV'})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#032F62\"},children:'          echo \"PATH=$HOME/.bun/bin:$PATH\" >> $GITHUB_ENV'})}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"      # í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ì„¤ì¹˜\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"Install dependencies\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"        run\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"bun install\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"      # Next.js ì•± ë¹Œë“œ\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"Build next app\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"        run\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"bun run build\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"      # ë¹Œë“œí•œ íŒŒì¼ê³¼ í”„ë¡œì íŠ¸ ì†ŒìŠ¤ë¥¼ ì••ì¶•í•´ .zip íŒŒì¼ë¡œ ë§Œë“¤ê¸°\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"Make zip file\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"        run\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:'zip -qq -r ./rookie_review.zip . -x \".git/*\"'})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"        # -qq: quit ëª¨ë“œë¡œ ì‹¤í–‰ (ì—ëŸ¬ë‚˜ ê²½ê³ ë©”ì„¸ì§€ë§Œ ì¶œë ¥í•˜ë„ë¡ í•¨)\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"        # -r: ì§€ì •ëœ ë””ë ‰í† ë¦¬ë¥¼ ì¬ê·€ì ìœ¼ë¡œ ì••ì¶• (í•˜ìœ„ ë””ë ‰í† ë¦¬ì™€ íŒŒì¼ë“¤ ëª¨ë‘ ì••ì¶•)\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"        # -x: ì§€ì •í•œ íŒŒì¼ë“¤ ì••ì¶• ê³¼ì •ì—ì„œ ì œì™¸í•˜ê¸°\"})}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"      # Github Actionì—ì„œ AWSì˜ ê¶Œí•œ ìê²©ì„ ì–»ì–´ì˜¤ëŠ” ë‹¨ê³„\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"Configure AWS credentials\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"        uses\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"aws-actions/configure-aws-credentials@v2\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"        with\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"          aws-access-key-id\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"${{ secrets.AWS_ACCESS_KEY_ID }}\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"          aws-secret-access-key\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"${{ secrets.AWS_SECRET_ACCESS_KEY }}\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"          aws-region\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"${{ secrets.AWS_REGION }}\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"      # ì••ì¶•ëœ íŒŒì¼ì„ S3ì— ì—…ë¡œë“œ\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"Upload to S3\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"        run\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"aws s3 cp --region ap-northeast-2 ./rookie_review.zip s3://${{ env.S3_BUCKET_NAME }}/rookie_review.zip\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"        # aws s3 cp: AWS CLI ëª…ë ¹ì–´ë¡œ íŒŒì¼ ë³µì‚¬\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"        # --region ap-northeast-2: ì—…ë¡œë“œ ëŒ€ìƒ ë¦¬ì „ ì„¤ì •\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"        # íŒŒì¼ì„ S3 ë²„í‚·ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ì—…ë¡œë“œ.\"})}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"      # S3ì— ì—…ë¡œë“œ ëœ ë¹Œë“œ íŒŒì¼ì„ ì´ìš©í•´ CodeDeployê°€ ì •ì˜ëœ ë™ì‘ì„ í•˜ë„ë¡ íŠ¸ë¦¬ê±°\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"name\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"Code Deploy\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"        run\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#032F62\"},children:\"          aws deploy create-deployment \\\\\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#032F62\"},children:\"          --application-name ${{ env.CODE_DEPLOY_APPLICATION_NAME }} \\\\\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#032F62\"},children:\"          --deployment-config-name CodeDeployDefault.AllAtOnce \\\\\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#032F62\"},children:\"          --deployment-group-name ${{ env.CODE_DEPLOY_DEPLOYMENT_GROUP_NAME }} \\\\\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#032F62\"},children:\"          --s3-location bucket=$S3_BUCKET_NAME,bundleType=zip,key=rookie_review.zip\"})})]})})}),\"\\n\",n(c.p,{children:\"appspec.ymlì€ CodeDeployê°€ ì‹¤í–‰í•  ì‘ì—… ì„¤ì • íŒŒì¼ì´ë‹¤.\"}),\"\\n\",n(c.p,{children:\"appspec.yml\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"version\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#005CC5\"},children:\"0.0\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"os\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"linux\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"files\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"  - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"source\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"/\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"    destination\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"/home/ubuntu/waffle_rookie_review\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"    overwrite\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#005CC5\"},children:\"yes\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"permissions\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"  - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"object\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"/home/ubuntu/waffle_rookie_review\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"    owner\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"ubuntu\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"    group\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"ubuntu\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"    mode\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#005CC5\"},children:\"755\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"hooks\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"  BeforeInstall\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"    - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"location\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"scripts/before-install.sh\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"      timeout\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#005CC5\"},children:\"300\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"      runas\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"ubuntu\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"  AfterInstall\"}),n(c.span,{style:{color:\"#24292E\"},children:\":\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"    - \"}),n(c.span,{style:{color:\"#22863A\"},children:\"location\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"scripts/after-install.sh\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"      timeout\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#005CC5\"},children:\"300\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#22863A\"},children:\"      runas\"}),n(c.span,{style:{color:\"#24292E\"},children:\": \"}),n(c.span,{style:{color:\"#032F62\"},children:\"ubuntu\"})]})]})})}),\"\\n\",n(c.p,{children:\"ì—¬ê¸°ì„œ ë‚˜ëŠ” before-install.shë¥¼ ìƒì„±í•´ ìë™ë°°í¬ ì „, í”„ë¡œì íŠ¸ íŒŒì¼ì„ ì „ë¶€ ì§€ì›Œë²„ë¦¬ê³  ìƒˆë¡œ ì„¤ì¹˜í•˜ë„ë¡ í–ˆë‹¤.\"}),\"\\n\",n(c.p,{children:\"scripts/before-install.sh\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"REPOSITORY\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"=\"}),n(c.span,{style:{color:\"#032F62\"},children:\"/home/ubuntu/waffle_rookie_review\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6A737D\"},children:\"# ëª¨ë“  íŒŒì¼ê³¼ ìˆ¨ê¹€ íŒŒì¼ ì‚­ì œ\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"find\"}),n(c.span,{style:{color:\"#24292E\"},children:\" $REPOSITORY \"}),n(c.span,{style:{color:\"#005CC5\"},children:\"-mindepth\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" 1\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" -delete\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"echo\"}),n(c.span,{style:{color:\"#032F62\"},children:' \"Cleanup completed.\"'})]})]})})}),\"\\n\",n(c.p,{children:\"ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•´ì„œì¸ë°,\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#6F42C1\"},children:\"Message\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"The\"}),n(c.span,{style:{color:\"#032F62\"},children:\" deployment\"}),n(c.span,{style:{color:\"#032F62\"},children:\" failed\"}),n(c.span,{style:{color:\"#032F62\"},children:\" because\"}),n(c.span,{style:{color:\"#032F62\"},children:\" a\"}),n(c.span,{style:{color:\"#032F62\"},children:\" specified\"}),n(c.span,{style:{color:\"#032F62\"},children:\" file\"}),n(c.span,{style:{color:\"#032F62\"},children:\" already\"}),n(c.span,{style:{color:\"#032F62\"},children:\" exists\"}),n(c.span,{style:{color:\"#032F62\"},children:\" at\"}),n(c.span,{style:{color:\"#032F62\"},children:\" this\"}),n(c.span,{style:{color:\"#032F62\"},children:\" location:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /home/ubuntu/waffle_rookie_review/.gitignore\"})]})]})})}),\"\\n\",n(c.p,{children:\"ë°°í¬ ê³¼ì •ì—ì„œ CodeDeployê°€ íŒŒì¼ì„ ë®ì–´ì”Œìš°ì§€ ì•Šê³  ì—ëŸ¬ë¥¼ ë±‰ì—ˆê¸° ë•Œë¬¸. overwrite: yes ì„ì—ë„ .gitignore ê°™ì€ ë¯¼ê°í•œ íŒŒì¼ë“¤ì€ ë®ì–´ì“°ì§€ ì•ŠëŠ” ê±¸ê¹Œ. ì •í™•íˆëŠ” ì˜ ëª¨ë¥´ê² ë‹¤. ì–´ì°¨í”¼ ê¸°ì¡´ íŒŒì¼ê³¼ ì¶©ëŒí•  ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ ì™„ì „íˆ ì‚­ì œí•˜ê³  ìƒˆë¡œ í”„ë¡œì íŠ¸ë¥¼ ê¹”ì•„ì£¼ëŠ” ê²Œ ì¢‹ê¸°ë„ í•˜ê³ .\"}),\"\\n\",n(c.p,{children:\"ê·¸ë¦¬ê³  after-install.shë¥¼ ìƒì„±í•´ ë°°í¬ ì´í›„ ì •ìƒì ìœ¼ë¡œ pm2ê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¬ì‹¤í–‰í•˜ë„ë¡ ì„¤ì •í–ˆë‹¤.\"}),\"\\n\",n(c.p,{children:\"scripts/after-install.sh\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"REPOSITORY\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"=\"}),n(c.span,{style:{color:\"#032F62\"},children:\"/home/ubuntu/waffle_rookie_review\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"BUN_PATH\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"=\"}),n(c.span,{style:{color:\"#032F62\"},children:\"/home/ubuntu/.bun/bin/bun\"})]}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"cd\"}),n(c.span,{style:{color:\"#24292E\"},children:\" $REPOSITORY \"}),n(c.span,{style:{color:\"#D73A49\"},children:\"||\"}),n(c.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"  echo\"}),n(c.span,{style:{color:\"#032F62\"},children:' \"Error: Failed to navigate to project directory.\"'})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"  exit\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" 1\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"}\"})}),\"\\n\",n(c.span,{className:\"line\"}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"$BUN_PATH run deploy\"})})]})})}),\"\\n\",n(c.p,{children:\"ê·¸ë¦¬ê³  bun run deploy ëª…ë ¹ì–´ë¥¼ package.jsonì— ì¶”ê°€í•˜ë©´ ëœë‹¤.\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(c.code,{children:e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:'\"deploy\"'}),n(c.span,{style:{color:\"#005CC5\"},children:\":\"}),n(c.span,{style:{color:\"#032F62\"},children:' \"pm2 start ecosystem.config.js --env production\"'})]})})})}),\"\\n\",n(c.p,{children:\"ë§ˆì§€ë§‰ìœ¼ë¡œ CodeDeployì˜ ë™ì‘ ì´í›„ pm2ê°€ ì •ìƒì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¬ì‹¤í–‰í•˜ë„ë¡ ì„¤ì •í•´ ì£¼ë©´ ëœë‹¤.\"}),\"\\n\",n(c.p,{children:\"ecosystem.config.js\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"module\"}),n(c.span,{style:{color:\"#24292E\"},children:\".\"}),n(c.span,{style:{color:\"#005CC5\"},children:\"exports\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" =\"}),n(c.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"  apps: [\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"    {\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      name: \"}),n(c.span,{style:{color:\"#032F62\"},children:\"'waffle_rookie_review'\"}),n(c.span,{style:{color:\"#24292E\"},children:\", \"}),n(c.span,{style:{color:\"#6A737D\"},children:\"// ì•±ì˜ ì´ë¦„\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      script: \"}),n(c.span,{style:{color:\"#032F62\"},children:\"'./node_modules/next/dist/bin/next'\"}),n(c.span,{style:{color:\"#24292E\"},children:\", \"}),n(c.span,{style:{color:\"#6A737D\"},children:\"// Next.js ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      args: \"}),n(c.span,{style:{color:\"#032F62\"},children:\"'start'\"}),n(c.span,{style:{color:\"#24292E\"},children:\", \"}),n(c.span,{style:{color:\"#6A737D\"},children:\"// Next.js ì•±ì„ ì‹œì‘í•  ë•Œ ì‚¬ìš©í•  ì¸ìˆ˜\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      exec_mode: \"}),n(c.span,{style:{color:\"#032F62\"},children:\"'fork'\"}),n(c.span,{style:{color:\"#24292E\"},children:\", \"}),n(c.span,{style:{color:\"#6A737D\"},children:\"// ì‹¤í–‰ ëª¨ë“œ: cluster ë˜ëŠ” fork ì¤‘ ì„ íƒ\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      instances: \"}),n(c.span,{style:{color:\"#032F62\"},children:\"'1'\"}),n(c.span,{style:{color:\"#24292E\"},children:\", \"}),n(c.span,{style:{color:\"#6A737D\"},children:\"// í´ëŸ¬ìŠ¤í„° ëª¨ë“œì—ì„œ ì‹¤í–‰í•  ì¸ìŠ¤í„´ìŠ¤ ìˆ˜ (CPU ì½”ì–´ ìˆ˜ë§Œí¼)\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      autorestart: \"}),n(c.span,{style:{color:\"#005CC5\"},children:\"true\"}),n(c.span,{style:{color:\"#24292E\"},children:\", \"}),n(c.span,{style:{color:\"#6A737D\"},children:\"// í”„ë¡œì„¸ìŠ¤ ìë™ ì¬ì‹œì‘ í™œì„±í™”\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      watch: \"}),n(c.span,{style:{color:\"#005CC5\"},children:\"true\"}),n(c.span,{style:{color:\"#24292E\"},children:\", \"}),n(c.span,{style:{color:\"#6A737D\"},children:\"// íŒŒì¼ ë³€ê²½ ê°ì§€ í™œì„±í™” (ê°œë°œ ì¤‘ì—ë§Œ í™œìš©)\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      max_memory_restart: \"}),n(c.span,{style:{color:\"#032F62\"},children:\"'1G'\"}),n(c.span,{style:{color:\"#24292E\"},children:\", \"}),n(c.span,{style:{color:\"#6A737D\"},children:\"// 1GB ì´ìƒ ë©”ëª¨ë¦¬ ì‚¬ìš© ì‹œ ì¬ì‹œì‘\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"      interpreter: \"}),n(c.span,{style:{color:\"#032F62\"},children:\"'/home/ubuntu/.bun/bin/bun'\"}),n(c.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"      env: {\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"        NODE_ENV: \"}),n(c.span,{style:{color:\"#032F62\"},children:\"'production'\"}),n(c.span,{style:{color:\"#24292E\"},children:\", \"}),n(c.span,{style:{color:\"#6A737D\"},children:\"// Node.js í™˜ê²½ ë³€ìˆ˜\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"        PATH: \"}),n(c.span,{style:{color:\"#032F62\"},children:\"`${\"}),n(c.span,{style:{color:\"#24292E\"},children:\"process\"}),n(c.span,{style:{color:\"#032F62\"},children:\".\"}),n(c.span,{style:{color:\"#24292E\"},children:\"env\"}),n(c.span,{style:{color:\"#032F62\"},children:\".\"}),n(c.span,{style:{color:\"#005CC5\"},children:\"HOME\"}),n(c.span,{style:{color:\"#032F62\"},children:\"}/.bun/bin:${\"}),n(c.span,{style:{color:\"#24292E\"},children:\"process\"}),n(c.span,{style:{color:\"#032F62\"},children:\".\"}),n(c.span,{style:{color:\"#24292E\"},children:\"env\"}),n(c.span,{style:{color:\"#032F62\"},children:\".\"}),n(c.span,{style:{color:\"#005CC5\"},children:\"PATH\"}),n(c.span,{style:{color:\"#032F62\"},children:\"}`\"}),n(c.span,{style:{color:\"#24292E\"},children:\",\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"      },\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"    },\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"  ],\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"};\"})})]})})}),\"\\n\",n(c.p,{children:\"ì´ëŸ¬ë©´ ë!....ì¸ ì¤„ ì•Œì•˜ìœ¼ë‚˜ CodeDeployì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"LifecycleEvent\"}),n(c.span,{style:{color:\"#032F62\"},children:\" -\"}),n(c.span,{style:{color:\"#032F62\"},children:\" AfterInstall\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"Script\"}),n(c.span,{style:{color:\"#032F62\"},children:\" -\"}),n(c.span,{style:{color:\"#032F62\"},children:\" scripts/after-install.sh\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"[stderr]$ pm2 start ecosystem.config.js --env production\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"[stderr]/usr/bin/bash: line 1: pm2: command not found\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#24292E\"},children:\"[stderr]error: script \"}),n(c.span,{style:{color:\"#032F62\"},children:'\"deploy\"'}),n(c.span,{style:{color:\"#24292E\"},children:\" exited with code 127\"})]})]})})}),\"\\n\",n(c.p,{children:\"scriptsì— ì íŒ pm2 ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ”ë° pm2ë¥¼ ì°¾ì§€ ëª»í•´ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.\"}),\"\\n\",n(c.p,{children:\"ë‹¤ìŒê³¼ ê°™ì´ ì‹¬ë³¼ë¦­ ë§í¬ë¥¼ ì§€ì •í•´ ì£¼ë©´ ì‹œìŠ¤í…œ PATH í™˜ê²½ ë³€ìˆ˜ì— ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),n(c.span,{style:{color:\"#032F62\"},children:\" ln\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" -s\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /home/ubuntu/.bun/bin/pm2\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /usr/bin/pm2\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),n(c.span,{style:{color:\"#032F62\"},children:\" ln\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" -s\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /home/ubuntu/.bun/bin/pm2\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /usr/local/bin/pm2\"})]})]})})}),\"\\n\",n(c.p,{children:\"pm2 ê²½ë¡œëŠ” ì„¤ì •ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë‹ˆ which pm2ë¡œ í™•ì¸í•˜ê³  ì ì ˆí•˜ê²Œ ë°”ê¿”ì£¼ì.\"}),\"\\n\",n(c.hr,{}),\"\\n\",n(c.h3,{children:\"6. ë¬¸ì œ í•´ê²°í•˜ê¸°\"}),\"\\n\",n(c.h5,{children:\"1) í™˜ê²½ë³€ìˆ˜ íŒŒì¼\"}),\"\\n\",n(c.p,{children:\"í™˜ê²½ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ëŠ” .env íŒŒì¼ì€ ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ .gitignoreì— ì§€ì •ë˜ì–´ ìˆë‹¤. ë¯¼ê°í•œ íŒŒì¼ë“¤ì€ ì™ ë¹¼ë†“ê³  ë¹Œë“œí•˜ê¸° ë•Œë¬¸ì— EC2 ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ ì§ì ‘ ì›ê²© ì„œë²„ë¡œ ì•ˆì „í•˜ê²Œ ì „ì†¡í•˜ëŠ” Secure Copy Protocol(SCP)ë¥¼ ì‚¬ìš©í•´ ì˜®ê²¨ì£¼ë©´ ëœë‹¤.\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(c.code,{children:e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"scp\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" -i\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" <\"}),n(c.span,{style:{color:\"#032F62\"},children:\"key.pe\"}),n(c.span,{style:{color:\"#24292E\"},children:\"m\"}),n(c.span,{style:{color:\"#D73A49\"},children:\">\"}),n(c.span,{style:{color:\"#032F62\"},children:\" .env\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" <\"}),n(c.span,{style:{color:\"#032F62\"},children:\"ec2-use\"}),n(c.span,{style:{color:\"#24292E\"},children:\"r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\">\"}),n(c.span,{style:{color:\"#032F62\"},children:\"@\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"<\"}),n(c.span,{style:{color:\"#032F62\"},children:\"EC2_PUBLIC_I\"}),n(c.span,{style:{color:\"#24292E\"},children:\"P\"}),n(c.span,{style:{color:\"#D73A49\"},children:\">\"}),n(c.span,{style:{color:\"#032F62\"},children:\":/\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"<\"}),n(c.span,{style:{color:\"#032F62\"},children:\"target_director\"}),n(c.span,{style:{color:\"#24292E\"},children:\"y\"}),n(c.span,{style:{color:\"#D73A49\"},children:\">\"})]})})})}),\"\\n\",n(c.p,{children:\"key.pemì—ëŠ” ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•  ë•Œ ì“°ëŠ” í‚¤ì˜ ê²½ë¡œ,\"}),\"\\n\",n(c.p,{children:\"ec2-userëŠ” ubuntu, target_directoryëŠ” ë‚´ ê²½ìš° /home/ubuntu/waffle_rookie_review ë‹¤.\"}),\"\\n\",n(c.p,{children:\"ê·¸ëŸ°ë°..! ë­”ê°€ ì´ìƒí•¨ì„ ëŠê¼ˆë‹¤ë©´ ğŸ‘\"}),\"\\n\",n(c.p,{children:\"ë°”ë¡œ CodeDeployì—ì„œ before-install.shì— í”„ë¡œì íŠ¸ë¥¼ ì „ë¶€ ë°€ì–´ë²„ë¦¬ëŠ” ëª…ë ¹ì–´ê°€ ìˆë‹¤! ê·¸ë˜ì„œ .env íŒŒì¼ë„ í•¨ê»˜ ì§€ì›Œì§€ë¯€ë¡œ ë‹¤ë¥¸ ë°©ë²•ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\"}),\"\\n\",n(c.p,{children:\"/home/ubuntu/env_backups ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ì–´ì£¼ê³  ì´ê³³ì— .env íŒŒì¼ì„ ì˜®ê²¨ì£¼ì.\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(c.code,{children:e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"mv\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /home/ubuntu/waffle_rookie_review/.env.local\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /home/ubuntu/env_backups\"})]})})})}),\"\\n\",n(c.p,{children:\"ê·¸ë¦¬ê³  after-install.shì— ë°±ì—… í´ë”ì—ì„œ ì„¤ì¹˜ëœ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ .env íŒŒì¼ì„ ì˜®ê¸°ëŠ” ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•œë‹¤.\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#D73A49\"},children:\"if\"}),n(c.span,{style:{color:\"#24292E\"},children:\" [ \"}),n(c.span,{style:{color:\"#D73A49\"},children:\"-f\"}),n(c.span,{style:{color:\"#032F62\"},children:' \"/home/ubuntu/env-backups/.env.local\"'}),n(c.span,{style:{color:\"#24292E\"},children:\" ]; \"}),n(c.span,{style:{color:\"#D73A49\"},children:\"then\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"  echo\"}),n(c.span,{style:{color:\"#032F62\"},children:' \"> Restoring .env.local file...\"'})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"  cp\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /home/ubuntu/env-backups/.env.local\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /home/ubuntu/waffle_rookie_review/.env.local\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" ||\"}),n(c.span,{style:{color:\"#24292E\"},children:\" {\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"    echo\"}),n(c.span,{style:{color:\"#032F62\"},children:' \"Error: Failed to restore .env.local file.\"'})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"    exit\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" 1\"})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#24292E\"},children:\"  }\"})}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#D73A49\"},children:\"else\"})}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#005CC5\"},children:\"  echo\"}),n(c.span,{style:{color:\"#032F62\"},children:' \"Warning: No backup .env.local file found. Skipping restoration.\"'})]}),\"\\n\",n(c.span,{className:\"line\",children:n(c.span,{style:{color:\"#D73A49\"},children:\"fi\"})})]})})}),\"\\n\",n(c.h5,{children:\"2) ë©”ëª¨ë¦¬ ë¶€ì¡±\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(c.code,{children:e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"No\"}),n(c.span,{style:{color:\"#032F62\"},children:\" space\"}),n(c.span,{style:{color:\"#032F62\"},children:\" left\"}),n(c.span,{style:{color:\"#032F62\"},children:\" on\"}),n(c.span,{style:{color:\"#032F62\"},children:\" device\"}),n(c.span,{style:{color:\"#032F62\"},children:\" @\"}),n(c.span,{style:{color:\"#032F62\"},children:\" io_write\"}),n(c.span,{style:{color:\"#032F62\"},children:\" -\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /opt/codedeploy-agent/deployment-root/a9949aba-cefa-4167-bc1b-0b0498d28232/d-1KKQEAKKA/bundle.tar\"})]})})})}),\"\\n\",n(c.p,{children:\"í”„ë¦¬í‹°ì–´ì˜ ëˆˆë¬¼... df -hë¥¼ ë³´ë©´ ë©”ëª¨ë¦¬ë¥¼ ì „ë¶€ ì‚¬ìš© ì¤‘ì¸ ê±¸ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë©”ëª¨ë¦¬ë¥¼ ìµœì í™”í•˜ëŠ” ê²ƒë„ ë°©ë²•ì´ê² ì§€ë§Œ... ê·¸ëƒ¥ ë©”ëª¨ë¦¬ë¥¼ ëŠ˜ë ¤ì£¼ì.\"}),\"\\n\",n(c.p,{children:\"ì¸ìŠ¤í„´ìŠ¤ë¡œ ë“¤ì–´ê°€ volumeì—ì„œ í˜„ì¬ ìš°ë¦¬ê°€ ë°°í¬í•œ ì¸ìŠ¤í„´ìŠ¤ê°€ ì‚¬ìš© ì¤‘ì¸ volumeì˜ í¬ê¸°ë¥¼ ëŠ˜ë ¤ì£¼ì.\"}),\"\\n\",n(c.p,{children:n(c.img,{src:\"/study/development/setup-ci-cd-with-codedeploy-github-actions/15.png\",alt:\"\"})}),\"\\n\",n(c.p,{children:\"ê·¸ë¦¬ê³  ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë””ìŠ¤í¬ì˜ ì²« ë²ˆì§¸ íŒŒí‹°ì…˜ í¬ê¸°ë¥¼ ëŠ˜ë ¤ì¤€ë‹¤.\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:n(c.code,{children:e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),n(c.span,{style:{color:\"#032F62\"},children:\" growpart\"}),n(c.span,{style:{color:\"#032F62\"},children:\" /dev/xvda\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" 1\"})]})})})}),\"\\n\",n(c.p,{children:\"ë‹¤ì‹œ df -hë¡œ í™•ì¸í•´ ë³´ë©´ ë©”ëª¨ë¦¬ê°€ ì—¬ìœ ë¡­ì—¬ì§„ ê±¸ ë³¼ ìˆ˜ ìˆë‹¤. ğŸ’°\"}),\"\\n\",n(c.h5,{children:\"3) CodeDeployì˜ ë¬´í•œ ë¡œë”©\"}),\"\\n\",n(c.p,{children:\"ì²˜ìŒ CodeDeployë¥¼ ì„¤ì •í•˜ê³  ë°°í¬ë¥¼ ê¸°ë‹¤ë¦¬ëŠ”ë° 3ë¶„ì´ ë„˜ë„ë¡ pending ìƒíƒœì˜€ë‹¤. ì–´ë–¤ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ê³ ì¹˜ê¸°ë¼ë„ í•˜ì§€ë§Œ ì´ ê²½ìš°ëŠ” ë‹µì´ ì—†ë‹¤. ì»´í“¨í„°ê°€ ë©ˆì¶”ë©´ ì–´ë–»ê²Œ í•˜ì‹œë‚˜ìš”? ì €ëŠ” ê»ë‹¤ ì¼­ë‹ˆë‹¤.\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),n(c.span,{style:{color:\"#032F62\"},children:\" systemctl\"}),n(c.span,{style:{color:\"#032F62\"},children:\" stop\"}),n(c.span,{style:{color:\"#032F62\"},children:\" codedeploy-agent\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"sudo\"}),n(c.span,{style:{color:\"#032F62\"},children:\" systemctl\"}),n(c.span,{style:{color:\"#032F62\"},children:\" start\"}),n(c.span,{style:{color:\"#032F62\"},children:\" codedeploy-agent\"})]})]})})}),\"\\n\",n(c.p,{children:\"ìŒìŒ. ì˜ ì‘ë™í•˜ë„¤ìš”.\"}),\"\\n\",n(c.hr,{}),\"\\n\",n(c.h3,{children:\"7. ì´ëª¨ì €ëª¨\"}),\"\\n\",n(c.p,{children:\"ì§€ê¸ˆê¹Œì§€ ëŒ€ë¶€ë¶„ WebStormì—ì„œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ , main branchë¡œ PR í•œ ë’¤ cië¥¼ ê±°ì³ ì •ìƒì ì¸ ì½”ë“œë§Œ ë³‘í•©í–ˆë‹¤. ìì˜í•œ ì˜¤íƒ€ ê°™ì€ ê±´ ë¡œì»¬ì—ì„œ prettierë¥¼ í†µí•´ ì¡ê¸°ë„ í•˜ê³ , GitHub Actionsì—ì„œë„ ì´ì¤‘ìœ¼ë¡œ ì¡ì•„ì£¼ê¸°ì— ì˜¤íƒ€ëŠ” ì „í˜€ ì‹ ê²½ ì“°ì§€ ì•Šì•˜ëŠ”ë°... ì´ë²ˆì—” ê·¸ëŸ° ê±° ì—†ë‹¤. ì˜¤íƒ€ë¡œ ì²˜ì ˆí•˜ê²Œ ë¬´ë„ˆì¡Œë‹¤.\"}),\"\\n\",e(c.ol,{children:[\"\\n\",n(c.li,{children:\"CodeDeployì˜ ì‘ë™ì„ ì„¤ì •í•˜ëŠ” appspec.ymlì„ appsepc.ymlë¡œ ì˜ëª» ì ìŒ\"}),\"\\n\",n(c.li,{children:\"í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì¸ waffle_rookie_reviewê°€ ì•„ë‹ˆë¼ rookie_reviewë¡œ ì˜ëª» ì§€ì •í•¨\"}),\"\\n\",n(c.li,{children:\"Regionì¸ ap-northeast-2ë¥¼ ap-northeas-2ë¡œ ì˜¤íƒ€ëƒ„\"}),\"\\n\"]}),\"\\n\",n(c.p,{children:\"ì´ ì™¸ì—ë„ ê¸°ì–µí•˜ì§€ ëª»í•˜ëŠ” ìˆ±í•œ ì˜¤íƒ€ê°€ ë‚˜ë¥¼ ê´´ë¡­í˜”ë‹¤. í›„...\"}),\"\\n\",n(c.p,{children:\"ê·¸ë¦¬ê³  íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ê²¸ ëŸ°íƒ€ì„ í™˜ê²½ìœ¼ë¡œ Bunì„ ì‚¬ìš©í•˜ë©° ì–´ë ¤ì›€ì´ ìˆì—ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ë¸”ë¡œê·¸ë“¤ì´ npmì„ ì´ìš©í•˜ë‹¤ ë³´ë‹ˆ ì„¤ì •ì´ë‚˜ ëª…ë ¹ì–´ë“¤ì´ ëŒ€ë¶€ë¶„ npm ê¸°ì¤€ì´ì—ˆë‹¤.\"}),\"\\n\",n(c.p,{children:\"ìì˜í•˜ê²Œ ëª…ë ¹ì–´ë¥¼ ê³ ì¹œ ê²ƒ ì™¸ì— ê°€ì¥ ì‹œê°„ì„ ë§ì´ ë¨¹ì—ˆë˜ ì—ëŸ¬ëŠ” ìë™ ë°°í¬ í›„ pm2 ë™ì‘ì„ ì„¤ì •í•˜ëŠ” ecosystem.config.jsì˜ ë¬¸ì œì˜€ë‹¤. ì•„ë¬´ ìƒê° ì—†ì´ node.js í™˜ê²½ì—ì„œ ì‹¤í–‰í•˜ë„ë¡ ë§Œë“¤ì–´ì§„ ì„¤ì •ì„ ê°–ë‹¤ ì“°ë‹ˆ CI/CDê°€ ëë‚  ë•Œë§ˆë‹¤ ì„œë²„ê°€ í„°ì¡Œë‹¤. ë¡œê·¸ë¥¼ ì‚´í´ë³´ë©´\"}),\"\\n\",n(l,{children:n(c.pre,{className:\"shiki github-light\",style:{backgroundColor:\"#fff\",color:\"#24292e\"},tabIndex:\"0\",children:e(c.code,{children:[e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"     at\"}),n(c.span,{style:{color:\"#032F62\"},children:\" TracingChannel.traceSync\"}),n(c.span,{style:{color:\"#24292E\"},children:\" (node:diagnostics_channel:322:14)\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"     at\"}),n(c.span,{style:{color:\"#032F62\"},children:\" wrapModuleLoad\"}),n(c.span,{style:{color:\"#24292E\"},children:\" (node:internal/modules/cjs/loader:220:24)\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"     at\"}),n(c.span,{style:{color:\"#032F62\"},children:\" Module.require\"}),n(c.span,{style:{color:\"#24292E\"},children:\" (node:internal/modules/cjs/loader:1311:12)\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"     at\"}),n(c.span,{style:{color:\"#032F62\"},children:\" require\"}),n(c.span,{style:{color:\"#24292E\"},children:\" (node:internal/modules/helpers:136:16)\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"     at\"}),n(c.span,{style:{color:\"#032F62\"},children:\" Object.\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"<\"}),n(c.span,{style:{color:\"#032F62\"},children:\"anonymou\"}),n(c.span,{style:{color:\"#24292E\"},children:\"s\"}),n(c.span,{style:{color:\"#D73A49\"},children:\">\"}),n(c.span,{style:{color:\"#24292E\"},children:\" (/home/ubuntu/waffle_rookie_review/node_modules/.bin/next:6:1)\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"     at\"}),n(c.span,{style:{color:\"#032F62\"},children:\" Module._compile\"}),n(c.span,{style:{color:\"#24292E\"},children:\" (node:internal/modules/cjs/loader:1554:14)\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"     at\"}),n(c.span,{style:{color:\"#032F62\"},children:\" Object..js\"}),n(c.span,{style:{color:\"#24292E\"},children:\" (node:internal/modules/cjs/loader:1706:10)\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"     at\"}),n(c.span,{style:{color:\"#032F62\"},children:\" Module.load\"}),n(c.span,{style:{color:\"#24292E\"},children:\" (node:internal/modules/cjs/loader:1289:32) {\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"   code:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" 'MODULE_NOT_FOUND',\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"   requireStack:\"}),n(c.span,{style:{color:\"#24292E\"},children:\" [ \"}),n(c.span,{style:{color:\"#032F62\"},children:\"'/home/ubuntu/waffle_rookie_review/node_modules/.bin/next'\"}),n(c.span,{style:{color:\"#032F62\"},children:\" ]\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#24292E\"},children:\" }\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\" Node.js\"}),n(c.span,{style:{color:\"#032F62\"},children:\" v22.14.0\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\" error:\"}),n(c.span,{style:{color:\"#032F62\"},children:\" script\"}),n(c.span,{style:{color:\"#032F62\"},children:' \"start\"'}),n(c.span,{style:{color:\"#032F62\"},children:\" exited\"}),n(c.span,{style:{color:\"#032F62\"},children:\" with\"}),n(c.span,{style:{color:\"#032F62\"},children:\" code\"}),n(c.span,{style:{color:\"#005CC5\"},children:\" 1\"})]}),\"\\n\",e(c.span,{className:\"line\",children:[n(c.span,{style:{color:\"#6F42C1\"},children:\"0\"}),n(c.span,{style:{color:\"#D73A49\"},children:\"|\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\"waffle_r\"}),n(c.span,{style:{color:\"#D73A49\"},children:\" |\"}),n(c.span,{style:{color:\"#6F42C1\"},children:\" $\"}),n(c.span,{style:{color:\"#032F62\"},children:\" next\"}),n(c.span,{style:{color:\"#032F62\"},children:\" start\"})]})]})})}),\"\\n\",n(c.p,{children:\"ì´ëŸ° ì‹ìœ¼ë¡œ node.jsì˜ ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ê³  ë‚˜íƒ€ë‚¬ë‹¤. ì²˜ìŒì—ëŠ”\\n'ì•„, pm2ê°€ node.js í™˜ê²½ì„ í•„ìš”ë¡œ í–ˆì—ˆì§€. ê·¸ëŸ°ë° ë²„ì „ì´ 22.14ë„¤. ë­ì•¼! deploy.ymlì—ëŠ” 20.11.1 ë²„ì „ìœ¼ë¡œ ë¹Œë“œí•˜ì–ì•„.'\\ní•˜ê³  ê³§ì¥ ì¸ìŠ¤í„´ìŠ¤ì˜ node.js ë²„ì „ì„ 20.11.1ë¡œ ì§€ì •í–ˆë‹¤.\"}),\"\\n\",n(c.p,{children:\"ê·¸ëŸ°ë°ë„ ì—¬ì „íˆ ë¬¸ì œê°€ ìˆì—ˆë‹¤.\"}),\"\\n\",n(c.p,{children:\"í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ bun installì„ í•œ ë’¤ pm2 restart 0ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ ì •ìƒ ì‘ë™ë˜ì—ˆë‹¤. ê·¸ëŸ¼ ì˜ì¡´ì„± ë¬¸ì œì¸ê°€? ì‹¶ì€ë° node.js ë²„ì „ì„ ì´ì•¼ê¸°í•˜ê³ ... í•˜ë‹¤ê°€ ìˆœê°„ ì•„ì°¨ ì‹¶ì—ˆë‹¤. ë‚´ ëŸ°íƒ€ì„ í™˜ê²½ì€ Bunì¸ë°!! interpreterë¥¼ bun ê²½ë¡œë¡œ ì§€ì •í•´ ì£¼ë‹ˆ ë§ë”í•˜ê²Œ ë‹¤ì‹œ ì‘ë™í–ˆë‹¤.\"}),\"\\n\",n(c.p,{children:\"ì§€ë‚˜ê³  ë³´ë©´ ë„ˆë¬´ ë‹¹ì—°í•˜ê³  ì‰¬ìš´ ë¬¸ì œì¸ë°... ì™œ ì´ë ‡ê²Œ ì˜¤ë˜ ëŒì•„ê°”ì„ê¹Œ. ê·¸ë˜ë„ ê¸°ê°€ë§‰íˆê²Œ ì‹¤ìˆ˜í•˜ê³  ì‹œê°„ ë‚­ë¹„í•˜ë©° ì œëŒ€ë¡œ ê¹¨ìš°ì³¤ë‹¤. ë‚´ê°€ ì •í™•íˆ ë¬´ìŠ¨ í™˜ê²½ì—ì„œ ì–´ë–¤ ëª…ë ¹ì–´ë¡œ ë¬´ì—‡ì„ ì‘ë™ì‹œí‚¤ëŠ”ì§€ ì•Œê²Œ ë˜ì—ˆìŒ! ì§€ê¸ˆì²˜ëŸ¼ ì§ì ‘ ì„œë²„ê¹Œì§€ ê±´ë“œë ¤ë³´ê³  ì‹œí–‰ì°©ì˜¤í•œ ë’¤ì— í† ì´í”„ë¡œì íŠ¸ë¥¼ í–ˆìœ¼ë©´ í›¨ì”¬ ì˜ ì°¸ì—¬í•  ìˆ˜ ìˆì—ˆì„í…ë°. ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ì´ê²Œ ì„œë²„ìª½ ë¬¸ì œì¸ì§€ í”„ë¡ íŠ¸ìª½ ë¬¸ì œì¸ì§€ ì•Œì•„ë³´ë ¤ëŠ” ë…¸ë ¥ì´ë¼ë„ í•  ìˆ˜ ìˆì—ˆì„í…ë°.\"}),\"\\n\",n(c.p,{children:\"ê·¸ë˜ë„ ì–µì§€ë¡œ Bunì„ ì¨ë³´ë©° ë¶€ë”ªíŒ ê²Œ ì°¸ ì˜í•œ ì„ íƒì¸ ë“¯í–ˆë‹¤. ì´ê²Œ ì•„ë‹ˆì—ˆë‹¤ë©´ ì„œë²„ìª½ì´ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ëŒì•„ê°€ëŠ”ì§€ ì´í•´í•˜ê²Œ ë§Œë“¤ì–´ì¤€ ì—ëŸ¬ë“¤ì„ ëª» ë§Œë‚¬ì„í…Œë‹ˆ!\"}),\"\\n\",n(c.hr,{}),\"\\n\",n(c.p,{children:\"ì´í›„ë¡œ ë„ë©”ì¸ êµ¬ë§¤í•´ì„œ ì—°ê²°í•˜ê³  https ì ‘ì† ì—°ê²°í•˜ê¸°... ëŠ” ê°„ë‹¨í•  ë“¯í•˜ê³  Dockerë¥¼ í•œ ë²ˆ ì¨ë³¼ ìƒê°ì¸ë°, ê·¸ ì „ì— ê¸°ëŠ¥ì„ ëª‡ ê°œ ê°œë°œí•œ ë’¤ì— í•  ìƒê°ì´ë‹¤. ê°„ë‹¨í•œ ë¸”ë¡œê·¸ë¥¼ êµ¬ì¶•í•´ë³´ê³  ì‹¶ì€ë° ì‹œê°„ì´ ë˜ë ¤ë‚˜ ëª¨ë¥´ê² ë„¤.\"})]})}return{default:function(l={}){const{wrapper:e}=l.components||{};return e?n(e,{...l,children:n(_createMdxContent,{...l})}):_createMdxContent(l)}};",
    "permalink": "/study/development/setup-ci-cd-with-codedeploy-github-actions"
  }
]